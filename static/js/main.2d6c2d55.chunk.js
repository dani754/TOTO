(this["webpackJsonptoto-production"]=this["webpackJsonptoto-production"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},63:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(22),r=a.n(c),o=(a(63),a(9)),i=a(10),l=a(12),u=a(11),h=a(20),j=a(74),d=(a(15),a(14),a(0));function b(e){var t=e.cycles;return t.sort((function(e,t){return t-e})),Object(d.jsx)("div",{children:Object(d.jsxs)(h.a,{onSelect:function(t){return e.onSelect(t)},className:"secondNav",children:[Object(d.jsxs)(h.a.Item,{className:"secondNavItem",children:[Object(d.jsxs)(h.a.Link,{eventKey:"CycleTable",children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-t.indexOf(parseInt(e.cycleID))," "]}),Object(d.jsx)(j.a,{id:"nav-dropdown",className:"inlineDropmenu",children:t.map((function(e,a){return Object(d.jsxs)(j.a.Item,{eventKey:e,children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-a]},a)}))})]}),Object(d.jsx)(h.a.Item,{className:"secondNavItem",children:Object(d.jsx)(h.a.Link,{eventKey:"LeagueTable",children:"\u05d8\u05d1\u05dc\u05ea \u05d4\u05dc\u05d9\u05d2\u05d4"})})]})})}var m=a(19),g=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).cycleData=function(e){fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({cycleID:t.cycleid,cycleData:t}),console.log("state cycle",n.state)})).catch((function(e){return console.log(e)}))},n.sortByTotalScore=function(){var e=n.state.table;e.sort((function(e,t){return t.totalScore-e.totalScore})),console.log("new sort array",e),n.setState({table:e})},n.sortByCycleScore=function(){var e=n.state.table;e.sort((function(e,t){return t.currentCycleScore-e.currentCycleScore})),console.log("new sort array",e),n.setState({table:e})},n.state={table:[{userName:"await",totalScore:1,currentCycleScore:1,originIndex:0}],cycleID:0},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;if(0!==this.props.data.current_cycle){var t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.data.current_cycle);this.state.cycleID!==this.props.data.current_cycle&&this.cycleData(t)}if(Array.isArray(this.props.data.names_array)&&"await"===this.state.table[0].userName&&0!==this.state.cycleID){var a=this.props.data.names_array.map((function(t,a){return{index:a,userName:t,totalScore:e.props.data.scores_array[a],currentCycleScore:e.state.cycleData.membersscores[a]}}));a.sort((function(e,t){return t.totalScore-e.totalScore})),this.setState({table:a})}return Object(d.jsx)("div",{children:Object(d.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{type:"button",className:"sortButton",onClick:function(){return e.sortByCycleScore()},children:"\u05e0\u05d9\u05e7\u05d5\u05d3 \u05dc\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05d5\u05db\u05d7\u05d9"}),Object(d.jsx)("th",{type:"button",className:"sortButton",onClick:function(){return e.sortByTotalScore()},children:'\u05e1\u05d4"\u05db \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea'}),Object(d.jsx)("th",{children:"\u05e9\u05dd"}),Object(d.jsx)("th",{children:"#"})]})}),Object(d.jsx)("tbody",{children:this.state.table.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.currentCycleScore}),Object(d.jsx)("td",{children:e.totalScore}),Object(d.jsx)("td",{children:e.userName}),Object(d.jsx)("td",{children:t+1})]})}))})]})})}}]),a}(s.a.Component),p=a(38),O=a(55),x=a(54),y=a(13),f=a(5),v=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).cycleData=function(e){var t=n.props.data.membersids.indexOf(n.props.userID);fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var a=e;n.setState({cycleID:a.cycleid,gamesIDs:a.gamesids,cycleOrderInLeague:a.cycleorderinleague,isLocked:a.islocked,membersScores:a.membersscores,gamesDB:a.gamesDB,userIndex:t}),console.log("state cycle",n.state)})).catch((function(e){return console.log(e)}))},n.setTable=function(){var e=[{gameid:1,hometeam:"await",awayteam:"await",score:"await",userBet:"await",cycleid:parseInt(n.props.cycleID),bets:[0]}];Array.isArray(n.state.gamesDB)&&n.state.gamesDB.length>0&&(e=n.state.gamesDB.map((function(e){var t="\u05d8\u05e8\u05dd \u05e0\u05e7\u05d1\u05e2";n.state.isLocked&&e.score>0&&(t=3===e.score?"x":e.score);var a=e.membersbets[n.state.userIndex];n.state.isLocked&&3===a&&(a="x");var s="";return e.isbonus&&(s="\u05d1\u05d5\u05e0\u05d5\u05e1! "),{hometeam:e.hometeam,awayteam:e.awayteam,score:t,userBet:a,cycleid:e.cycleid,gameID:e.gameid,bonus:s,isbonus:e.isbonus,bets:e.membersbets}}))),n.setState({table:e}),console.log("new table",n.state.table)},n.handleChange=function(e,t){var a=n.state.table;a[t].userBet=e.target.value,n.setState({table:a})},n.handleSubmit=function(){if(n.state.table[0].cycleid===n.state.cycleID&&Array.isArray(n.state.gamesDB)&&n.state.gamesDB.length>0)return fetch("https://toto-server.herokuapp.com/updatebets",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIndex:n.state.userIndex,gamesTable:n.state.table})}).then((function(e){return console.log("updatebets res",e),e.json()})).then((function(e){return console.log("updatebets",e),n.props.onSubmit(n.state.table)})).catch((function(e){return console.log("updatebets",e)}))},n.state={cycleID:0,gamesIDs:[],cycleOrderInLeague:0,isLocked:!0,membersScores:[],gamesDB:[],table:[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:0,userBet:0,bets:[0]}],userIndex:0},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.cycleID);parseInt(this.state.cycleID)!==parseInt(this.props.cycleID)&&this.cycleData(t);var a=this.state.table;return a[0].cycleid!==this.state.cycleID&&0!==this.state.cycleID&&this.setTable(),this.state.isLocked||"await"===a[0].hometeam?Object(d.jsx)("div",{children:Object(d.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{className:"tr5column",children:[Object(d.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(d.jsx)("th",{children:"\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e9\u05dc\u05da"}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(d.jsx)("th",{children:"#"})]})}),Object(d.jsx)("tbody",{children:a.map((function(t,a){return t.isbonus?Object(d.jsxs)("tr",{className:"bonusLine",children:[Object(d.jsx)("td",{children:Object(d.jsx)(O.a,{className:"OverlayTrigger",placement:"right",overlay:Object(d.jsx)(x.a,{id:"tooltip-right",style:{width:"150%"},children:Object(d.jsxs)(m.a,{className:"tooltipTable",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{className:"tooltipTableLine",children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:":\u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd"})]})}),Object(d.jsx)("tbody",{children:t.bets.map((function(t,a){var n=t;return 3===t&&(n="x"),Object(d.jsxs)("tr",{className:"tooltipTableLine",children:[Object(d.jsx)("td",{className:"tooltipTableText",children:n}),Object(d.jsx)("td",{className:"tooltipTableText",children:e.props.data.names_array[a]})]},a)}))})]})}),children:Object(d.jsx)(y.a,{className:"invisibleButton",children:t.score})})}),Object(d.jsx)("td",{children:t.userBet}),Object(d.jsx)("td",{children:t.awayteam}),Object(d.jsx)("td",{children:t.hometeam}),Object(d.jsx)("td",{className:"hebrew",children:"\u05d1\u05d5\u05e0\u05d5\u05e1"})]},a):Object(d.jsxs)("tr",{className:"tr5column",children:[Object(d.jsx)("td",{children:Object(d.jsx)(O.a,{className:"OverlayTrigger",placement:"right",overlay:Object(d.jsx)(x.a,{id:"tooltip-right",style:{width:"150%"},children:Object(d.jsxs)(m.a,{className:"tooltipTable",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{className:"tooltipTableLine",children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:":\u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd"})]})}),Object(d.jsx)("tbody",{children:t.bets.map((function(t,a){var n=t;return 3===t&&(n="x"),Object(d.jsxs)("tr",{className:"tooltipTableLine",children:[Object(d.jsx)("td",{className:"tooltipTableText",children:n}),Object(d.jsx)("td",{className:"tooltipTableText",children:e.props.data.names_array[a]})]},a)}))})]})}),children:Object(d.jsx)(y.a,{className:"invisibleButton",children:t.score})})}),Object(d.jsx)("td",{children:t.userBet}),Object(d.jsx)("td",{children:t.awayteam}),Object(d.jsx)("td",{children:t.hometeam}),Object(d.jsx)("td",{children:a+1})]},a)}))})]})}):Object(d.jsx)("div",{children:Object(d.jsx)(f.a,{onSubmit:function(t){t.preventDefault(),e.handleSubmit()},children:Object(d.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u05d4\u05d9\u05de\u05d5\u05e8"}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(d.jsx)("th",{children:"#"})]})}),Object(d.jsx)("tbody",{children:a.map((function(t,a){var n,s;return t.isbonus?Object(d.jsxs)("tr",{className:"bonusLineFour",children:[Object(d.jsx)("td",(n={className:"hebrew"},Object(p.a)(n,"className","bet"),Object(p.a)(n,"children",Object(d.jsx)(f.a.Group,{className:"bet",children:Object(d.jsxs)(f.a.Control,{className:"bet",as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.userBet,children:[Object(d.jsx)("option",{value:"0",className:"hebrew",children:"\u05de\u05de\u05ea\u05d9\u05df"}),Object(d.jsx)("option",{value:"1",className:"hebrew",children:"1"}),Object(d.jsx)("option",{value:"2",className:"hebrew",children:"2"}),Object(d.jsx)("option",{value:"3",className:"hebrew",children:"x"})]},a)})),n)),Object(d.jsx)("td",{children:t.awayteam}),Object(d.jsx)("td",{children:t.hometeam}),Object(d.jsx)("td",{className:"hebrew",children:"\u05d1\u05d5\u05e0\u05d5\u05e1"})]},a):Object(d.jsxs)("tr",{className:"hebrew",children:[Object(d.jsx)("td",(s={className:"hebrew"},Object(p.a)(s,"className","bet"),Object(p.a)(s,"children",Object(d.jsx)(f.a.Group,{className:"bet",children:Object(d.jsxs)(f.a.Control,{className:"bet",as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.userBet,children:[Object(d.jsx)("option",{value:"0",className:"hebrew",children:"\u05de\u05de\u05ea\u05d9\u05df"}),Object(d.jsx)("option",{value:"1",className:"hebrew",children:"1"}),Object(d.jsx)("option",{value:"2",className:"hebrew",children:"2"}),Object(d.jsx)("option",{value:"3",className:"hebrew",children:"x"})]},a)})),s)),Object(d.jsx)("td",{children:t.awayteam}),Object(d.jsx)("td",{children:t.hometeam}),Object(d.jsx)("td",{children:a+1})]},a)}))}),Object(d.jsx)(y.a,{size:"lg",style:{color:"black"},type:"submit",children:"\u05e9\u05de\u05d5\u05e8 \u05d4\u05d9\u05de\u05d5\u05e8"})]})})})}}]),a}(s.a.Component),I=a(46),D=a(24),C=a(17),w=a(29);function N(e){var t=Object(n.useState)(e.show),a=Object(I.a)(t,2),s=a[0],c=a[1],r="\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4";return e.complete||(r="\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df! \u05e9\u05d9\u05dd \u05dc\u05d1, \u05e7\u05d9\u05d9\u05de\u05d9\u05dd \u05de\u05e9\u05d7\u05e7\u05d9\u05dd \u05e9\u05d8\u05e8\u05dd \u05d4\u05d9\u05de\u05e8\u05ea \u05e2\u05dc\u05d9\u05d4\u05dd"),Object(d.jsx)(D.a,{children:Object(d.jsx)(C.a,{xs:6,children:Object(d.jsx)(w.a,{onClose:function(){return c(!1)},show:s,delay:4e3,autohide:!0,children:Object(d.jsxs)(w.a.Header,{children:[Object(d.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(d.jsx)("strong",{className:"mr-auto",children:r})]})})})})}var S=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).leagueData=function(e){fetch(e,{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("league data",t),n.setState({data:t,leagueID:t.leagueid,leagueName:t.leaguename,cyclesIDs:t.cyclesids,membersIDs:t.membersids,currentCycleTable:t.current_cycle,table:0})})).catch((function(e){return console.log("LeaguePage",e)}))},n.checkBets=function(e){for(var t=!0,a=0;a<e.length;a++)e[a].userBet>=1&&e[a].userBet<=3||"x"===e[a].userBet||(t=!1);n.setState({toast:Object(d.jsx)(N,{show:!0,complete:t})})},n.switchTab=function(e){var t;switch(e){case"LeagueTable":t=Object(d.jsx)(g,{data:n.state.data});break;case"CycleTable":t=Object(d.jsx)(v,{data:n.state.data,cycleID:n.state.currentCycleTable,userID:n.props.userID,onSubmit:function(e){n.switchTab("LeagueTable"),n.checkBets(e)}});break;default:n.setState({currentCycleTable:e}),t=Object(d.jsx)(v,{data:n.state.data,cycleID:e,userID:n.props.userID,onSubmit:function(e){n.switchTab("LeagueTable"),n.checkBets(e)}})}n.setState({table:t})},n.state={table:0,data:{},leagueID:0,leagueName:"",cyclesIDs:[],membersIDs:[],userIndex:0,leagues:n.props.leagues,currentCycleTable:0,toast:Object(d.jsx)("p",{})},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;if(0!==this.props.leagueID){var t="https://toto-server.herokuapp.com/home/league/".concat(this.props.leagueID);this.state.leagueID!==this.props.leagueID&&this.leagueData(t)}var a=this.state.table;0===a&&0!==this.state.leagueID&&this.switchTab("LeagueTable");var n=this.state.toast;return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{}),Object(d.jsxs)("h1",{className:"hebrew",children:[" \u05e9\u05dc\u05d5\u05dd ",this.props.userName," ! \u05d1\u05e8\u05d5\u05db\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd \u05dc\u05dc\u05d9\u05d2\u05ea ",this.state.leagueName," "]}),n,Object(d.jsx)(b,{onSelect:function(t){e.switchTab(t)},leagues:this.state.leagues,cycles:this.state.cyclesIDs,leagueID:this.state.leagueID,cycleID:this.state.currentCycleTable,betID:this.state.currentBetsCycle}),Object(d.jsx)("p",{}),a]})}}]),a}(s.a.Component);function k(e){var t=e.cycles;if(t.sort((function(e,t){return t-e})),0!==e.cycleID){var a=Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(h.a.Item,{className:"secondNavItem",children:Object(d.jsx)(h.a.Link,{eventKey:"lock",children:" \u05e0\u05e2\u05d9\u05dc\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})})});return e.cycleData.islocked&&(a=e.cycleData.isclosed?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(h.a.Item,{className:"secondNavItem",children:Object(d.jsx)(h.a.Link,{eventKey:"unclose",children:" \u05d1\u05d9\u05d8\u05d5\u05dc \u05e1\u05d2\u05d9\u05e8\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h.a.Item,{className:"secondNavItem",children:Object(d.jsx)(h.a.Link,{eventKey:"close",children:" \u05e1\u05d2\u05d9\u05e8\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})}),Object(d.jsx)(h.a.Item,{className:"secondNavItem",children:Object(d.jsx)(h.a.Link,{eventKey:"unlock",children:" \u05d1\u05d9\u05d8\u05d5\u05dc \u05e0\u05e2\u05d9\u05dc\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})})]})),Object(d.jsx)("div",{children:Object(d.jsxs)(h.a,{onSelect:function(t){return e.onSelect(t)},className:"adminNav",children:[Object(d.jsxs)(h.a.Item,{className:"secondNavItem",children:[Object(d.jsxs)(h.a.Link,{eventKey:e.cycleID,children:[" ",t.length-t.indexOf(parseInt(e.cycleID))," \u05de\u05d7\u05d6\u05d5\u05e8 "]}),Object(d.jsxs)(j.a,{id:"nav-dropdown",className:"inlineDropmenu",children:[t.map((function(e,a){return Object(d.jsxs)(j.a.Item,{eventKey:e,children:[" ",t.length-a," \u05de\u05d7\u05d6\u05d5\u05e8"]},a)})),Object(d.jsx)(j.a.Divider,{}),Object(d.jsx)(j.a.Item,{eventKey:"addCycle",children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8 \u05d7\u05d3\u05e9  "})]})]}),a,Object(d.jsx)(h.a.Item,{className:"secondNavItem",children:Object(d.jsx)(h.a.Link,{eventKey:"LeagueData",children:"\u05e2\u05de\u05d5\u05d3 \u05dc\u05d9\u05d2\u05d4"})})]})})}return Object(d.jsx)("div",{children:Object(d.jsxs)(h.a,{onSelect:function(t){return e.onSelect(t)},className:"adminNav",children:[Object(d.jsx)(j.a,{id:"nav-dropdown",className:"secondNavItem",title:"\u05e2\u05d1\u05d5\u05e8 \u05dc\u05de\u05d7\u05d6\u05d5\u05e8",children:t.map((function(e,a){return Object(d.jsxs)(j.a.Item,{eventKey:e,children:[" ",t.length-a," \u05de\u05d7\u05d6\u05d5\u05e8"]},a)}))}),Object(d.jsx)(h.a.Item,{className:"secondNavItem",children:Object(d.jsx)(h.a.Link,{eventKey:"addCycle",children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8 \u05d7\u05d3\u05e9 "})})]})})}var L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).cycleData=function(e){fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({cycleID:t.cycleid,gamesIDs:t.gamesids,cycleOrderInLeague:t.cycleorderinleague,isLocked:t.islocked,isClosed:t.isclosed,membersScores:t.membersscores,gamesDB:t.gamesDB}),console.log("state admin cycle",n.state)})).catch((function(e){return console.log(e)}))},n.setTable=function(){var e=[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:n.props.cycleID}];Array.isArray(n.state.gamesDB)&&n.state.gamesDB.length>0&&(e=n.state.gamesDB.map((function(e){var t=e.score;return n.state.isClosed&&3===t&&(t="x"),{hometeam:e.hometeam,awayteam:e.awayteam,score:t,newScore:e.score,cycleid:e.cycleid,gameID:e.gameid,isbonus:e.isbonus}}))),n.setState({table:e})},n.handleGamesInput=function(e,t,a){if(1===a){var s=n.state.hometeam;s[t]=e.target.value,n.setState({hometeam:s})}else{var c=n.state.awayteam;c[t]=e.target.value,n.setState({awayteam:c})}},n.addGames=function(){for(var e=function(e){""!==n.state.hometeam[e]&&""!==n.state.awayteam[e]&&fetch("https://toto-server.herokuapp.com/addgame",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({hometeam:n.state.hometeam[e],awayteam:n.state.awayteam[e],cycleID:n.state.cycleID,leagueID:n.props.data.leagueID,leagueSize:n.props.data.membersIDs.length,firstGame:"await"===n.state.table[0].hometeam})}).then((function(e){return e.json()})).then((function(t){if(e===n.state.gamesToAdd){var a=n.state.table;a[0].cycleid=0,n.setState({cycleID:0,gamesToAdd:0,hometeam:[""],awayteam:[""],table:a})}})).catch((function(e){return console.log("addGame",e)}))},t=0;t<=n.state.gamesToAdd;t++)e(t)},n.deleteGame=function(e){console.log("delete game",e);var t="https://toto-server.herokuapp.com/deletegame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response deletegame",e),e.json()})).then((function(e){var t=n.state.table;t[0].cycleid=0,n.setState({cycleID:0,table:t}),console.log("response deletegame",e)})).catch((function(e){return console.log("deletegame",e)}))},n.markAsBonusGame=function(e){console.log("bunus game",e);var t="https://toto-server.herokuapp.com/bonusgame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response bonusgame",e),e.json()})).then((function(e){var t=n.state.table;t[0].cycleid=0,n.setState({cycleID:0,table:t}),console.log("response bonusgame",e)})).catch((function(e){return console.log("bonusgame",e)}))},n.unmarkAsBonusGame=function(e){console.log("un-bunus game",e);var t="https://toto-server.herokuapp.com/unbonusgame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response unbonusgame",e),e.json()})).then((function(e){var t=n.state.table;t[0].cycleid=0,n.setState({cycleID:0,table:t}),console.log("response unbonusgame",e)})).catch((function(e){return console.log("unbonusgame",e)}))},n.handleChange=function(e,t){var a=n.state.table;a[t].newScore=e.target.value,console.log("newCycleScore",a),n.setState({table:a})},n.updateScores=function(){console.log("updateScores",n.state),n.state.table[0].cycleid===n.state.cycleID&&Array.isArray(n.state.gamesDB)&&n.state.gamesDB.length>0&&fetch("https://toto-server.herokuapp.com/updatescores",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({gamesTable:n.state.table,cycleID:n.state.cycleID})}).then((function(e){return e.json()})).then((function(e){console.log("response updatescores",e),n.props.onSelect("scoreUpdate"),n.setState({cycleID:0})})).catch((function(e){return console.log("updatescores",e)}))},n.state={cycleID:0,gamesIDs:[],cycleOrderInLeague:0,isLocked:!0,isClosed:!0,membersScores:[],gamesDB:[],table:[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:0}],gamesToAdd:0,hometeam:[""],awayteam:[""]},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;console.log("cycle update state",this.state);var t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.cycleID);parseInt(this.state.cycleID)!==parseInt(this.props.cycleID)&&this.cycleData(t);var a=this.state.table;if(a[0].cycleid!==this.state.cycleID&&0!==this.state.cycleID&&this.setTable(),this.state.isClosed)return Object(d.jsx)("div",{children:Object(d.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(d.jsx)("th",{children:"#"})]})}),Object(d.jsx)("tbody",{children:a.map((function(e,t){return e.isbonus?Object(d.jsxs)("tr",{className:"bonusLineFour",children:[Object(d.jsx)("td",{children:e.score}),Object(d.jsx)("td",{children:e.awayteam}),Object(d.jsx)("td",{children:e.hometeam}),Object(d.jsx)("td",{children:t+1})]},t):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.score}),Object(d.jsx)("td",{children:e.awayteam}),Object(d.jsx)("td",{children:e.hometeam}),Object(d.jsx)("td",{children:t+1})]},t)}))})]})});if(this.state.isLocked)return Object(d.jsx)("div",{children:Object(d.jsx)(f.a,{onSubmit:function(){return e.updateScores()},children:Object(d.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(d.jsx)("th",{children:"#"})]})}),Object(d.jsx)("tbody",{children:a.map((function(t,a){return t.isbonus?Object(d.jsxs)("tr",{className:"bonusLineFour",children:[Object(d.jsx)("td",{children:Object(d.jsx)(f.a.Group,{children:Object(d.jsxs)(f.a.Control,{as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.newScore,children:[Object(d.jsx)("option",{value:"0",children:"await"}),Object(d.jsx)("option",{value:"1",children:"1"}),Object(d.jsx)("option",{value:"2",children:"2"}),Object(d.jsx)("option",{value:"3",children:"x"})]},a)})}),Object(d.jsx)("td",{children:t.awayteam}),Object(d.jsx)("td",{children:t.hometeam}),Object(d.jsx)("td",{children:a+1})]},a):Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)(f.a.Group,{children:Object(d.jsxs)(f.a.Control,{as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.newScore,children:[Object(d.jsx)("option",{value:"0",children:"await"}),Object(d.jsx)("option",{value:"1",children:"1"}),Object(d.jsx)("option",{value:"2",children:"2"}),Object(d.jsx)("option",{value:"3",children:"x"})]},a)})}),Object(d.jsx)("td",{children:t.awayteam}),Object(d.jsx)("td",{children:t.hometeam}),Object(d.jsx)("td",{children:a+1})]},a)}))}),Object(d.jsx)(y.a,{style:{color:"black"},type:"button",onClick:function(){return e.updateScores()},children:"update scores"})]})})});var n=this.state.hometeam;return Object(d.jsx)("div",{children:Object(d.jsx)(f.a,{onSubmit:function(){return e.handleSubmit()},children:Object(d.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(d.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(d.jsx)("th",{children:"#"})]})}),Object(d.jsxs)("tbody",{children:[a.map((function(t,a){return t.isbonus?Object(d.jsxs)("tr",{className:"bonusLineFour",children:[Object(d.jsxs)("td",{children:[Object(d.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return e.deleteGame(t.gameID)},children:"\u05de\u05d7\u05d9\u05e7\u05d4"}),Object(d.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return e.unmarkAsBonusGame(t.gameID)},children:"\u05d1\u05d8\u05dc \u05e1\u05d9\u05de\u05d5\u05df \u05db\u05d1\u05d5\u05e0\u05d5\u05e1"})]}),Object(d.jsx)("td",{children:t.awayteam}),Object(d.jsx)("td",{children:t.hometeam}),Object(d.jsx)("td",{children:a+1})]},a):Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[Object(d.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return e.deleteGame(t.gameID)},children:"\u05de\u05d7\u05d9\u05e7\u05d4"}),Object(d.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return e.markAsBonusGame(t.gameID)},children:"\u05e1\u05de\u05df \u05db\u05d1\u05d5\u05e0\u05d5\u05e1"})]}),Object(d.jsx)("td",{children:t.awayteam}),Object(d.jsx)("td",{children:t.hometeam}),Object(d.jsx)("td",{children:a+1})]},a)})),n.map((function(t,a){return Object(d.jsxs)("tr",{className:"Hebrew",children:[Object(d.jsxs)("td",{children:[" ",Object(d.jsx)(y.a,{style:{color:"black"},type:"button",onClick:function(){return e.setState({gamesToAdd:e.state.gamesToAdd+1,hometeam:e.state.hometeam.concat([""]),awayteam:e.state.awayteam.concat([""])})},children:"+ "})," "]}),Object(d.jsx)("td",{children:Object(d.jsx)(f.a.Group,{children:Object(d.jsx)(f.a.Control,{type:"text",placeholder:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5",onChange:function(t){e.handleGamesInput(t,a,2)},value:e.state.awayteam[a]})})}),Object(d.jsx)("td",{children:Object(d.jsx)(f.a.Group,{children:Object(d.jsx)(f.a.Control,{type:"text",placeholder:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea",onChange:function(t){e.handleGamesInput(t,a,1)},value:e.state.hometeam[a]})})}),Object(d.jsx)("td",{children:"*"})]},a)}))]}),Object(d.jsx)(y.a,{style:{color:"black"},type:"button",onClick:function(){return e.addGames()},children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e9\u05d7\u05e7\u05d9\u05dd"})]})})})}}]),a}(s.a.Component),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onLeagueNameChange=function(e){n.setState({newLeagueName:e.target.value})},n.changeLeagueName=function(){console.log("activate changeLeagueName",n.state),""!==n.state.newLeagueName&&n.state.newLeagueName!==n.state.currentLeagueName&&fetch("https://toto-server.herokuapp.com/changeleaguename",{method:"post",dataType:"json",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueID:n.props.data.leagueID,newLeagueName:n.state.newLeagueName})}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("change league name",t),n.setState({changeLeagueName:!1,currentLeagueName:n.state.newLeagueName}),n.props.onDataChange()})).catch((function(e){return console.log("AdminPage",e)}))},n.handleChange=function(e){n.setState({currentCycle:e.target.value})},n.updateCurrentCycle=function(){console.log("activate updateCurrentCycle",n.state),n.state.currentCycle!==n.props.data.current_cycle&&fetch("https://toto-server.herokuapp.com/updatecurrentcycle",{method:"post",dataType:"json",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueID:n.props.data.leagueID,newCurrentCycle:n.state.currentCycle})}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("change current league",t),n.props.onDataChange()})).catch((function(e){return console.log("AdminPage",e)}))},n.state={changeLeagueName:!1,currentLeagueName:n.props.data.leagueName,newLeagueName:"",currentCycle:n.props.data.current_cycle},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=Object(d.jsx)(C.a,{children:Object(d.jsxs)(f.a.Label,{className:"Hebrew",children:["\u05e9\u05dd \u05d4\u05dc\u05d9\u05d2\u05d4:      ",this.state.currentLeagueName," "]})});this.state.changeLeagueName&&(t=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(C.a,{children:Object(d.jsx)(y.a,{onClick:function(){return e.changeLeagueName()},children:" \u05e2\u05d3\u05db\u05df "})}),Object(d.jsx)(C.a,{children:Object(d.jsx)(f.a.Control,{className:"Hebrew",placeholder:this.state.currentLeagueName,onChange:function(t){return e.onLeagueNameChange(t)}})})]}));var a=this.props.data.cyclesIDs;return a.sort((function(e,t){return e-t})),Object(d.jsx)("div",{children:Object(d.jsxs)(f.a,{children:[Object(d.jsxs)(f.a.Group,{children:[Object(d.jsx)(f.a.Label,{children:"\u05e4\u05e8\u05d8\u05d9\u05dd \u05db\u05dc\u05dc\u05d9\u05dd"}),Object(d.jsxs)(D.a,{children:[Object(d.jsx)(C.a,{children:Object(d.jsx)(y.a,{onClick:function(){return e.setState({changeLeagueName:!0})},size:"sm",children:" \u05e9\u05e0\u05d4 \u05e9\u05dd \u05dc\u05d9\u05d2\u05d4"})}),Object(d.jsx)(C.a,{children:Object(d.jsxs)(f.a.Label,{className:"Hebrew",children:["\u05de\u05e1\u05e4\u05e8 \u05d4\u05dc\u05d9\u05d2\u05d4:   ",this.props.data.leagueID," "]})}),t]}),Object(d.jsx)("p",{})]}),Object(d.jsxs)(f.a.Group,{children:[Object(d.jsxs)(D.a,{children:[Object(d.jsx)(C.a,{children:Object(d.jsx)(y.a,{onClick:function(){return e.updateCurrentCycle()},size:"sm",children:"\u05e2\u05d3\u05db\u05df"})}),Object(d.jsx)(C.a,{children:Object(d.jsx)(f.a.Control,{as:"select",size:"sm",value:this.state.currentCycle,onChange:function(t){return e.handleChange(t)},children:a.map((function(e,t){return Object(d.jsx)("option",{value:e,children:t+1},t)}))})}),Object(d.jsx)(C.a,{children:Object(d.jsx)(f.a.Label,{children:"\u05e2\u05d3\u05db\u05d5\u05df \u05de\u05d7\u05d6\u05d5\u05e8 \u05dc\u05d4\u05e6\u05d2\u05d4 \u05d1\u05d8\u05d1\u05dc\u05ea \u05d4\u05dc\u05d9\u05d2\u05d4  "})})]}),Object(d.jsx)("p",{})]}),Object(d.jsx)(f.a.Group,{children:Object(d.jsxs)(D.a,{children:[Object(d.jsxs)(C.a,{children:[Object(d.jsx)(f.a.Label,{children:"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05e9\u05ea\u05ea\u05e4\u05d9\u05dd"}),Object(d.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{className:"adminPageNamesTable",children:[Object(d.jsx)("th",{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),Object(d.jsx)("th",{children:"\u05e9\u05dd"}),Object(d.jsx)("th",{children:"#"})]})}),Object(d.jsx)("tbody",{children:this.props.data.names_array.map((function(e,t){return Object(d.jsxs)("tr",{className:"adminPageNamesTable",children:[Object(d.jsx)("td",{children:"\u05e4\u05e2\u05d9\u05dc"}),Object(d.jsx)("td",{children:e}),Object(d.jsx)("td",{children:t+1})]},t)}))})]})]}),Object(d.jsxs)(C.a,{children:[Object(d.jsx)(f.a.Label,{children:"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05d7\u05d6\u05d5\u05e8\u05d9\u05dd"}),Object(d.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{className:"adminPageCycleTable",children:[Object(d.jsx)("th",{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),Object(d.jsx)("th",{children:"#"})]})}),Object(d.jsx)("tbody",{children:this.props.data.cyclesIDs.map((function(e,t){return Object(d.jsxs)("tr",{className:"adminPageCycleTable",children:[Object(d.jsx)("td",{children:"\u05e4\u05e2\u05d9\u05dc"}),Object(d.jsx)("td",{children:t+1})]},t)}))})]})]})]})})]})})}}]),a}(s.a.Component);function B(e){return fetch("https://toto-server.herokuapp.com/verifybets/".concat(e),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;return console.log("verify bets before lock cycle",t),t})).catch((function(e){return console.log("AdminPage",e)}))}function A(e){var t=Object(n.useState)(e.pop),a=Object(I.a)(t,2),s=a[0];a[1];return Object(d.jsx)(D.a,{children:Object(d.jsx)(C.a,{xs:6,children:Object(d.jsxs)(w.a,{onClose:function(){e.onClose()},show:s,children:[Object(d.jsx)(w.a.Header,{}),Object(d.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(d.jsx)(w.a.Body,{children:e.message})]})})})}var P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fullLeagueData=function(e){fetch(e,{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({leagueID:t.leagueid,leagueName:t.leaguename,cyclesIDs:t.cyclesids,membersIDs:t.membersids,names_array:t.names_array,scores_array:t.scores_array,current_cycle:t.current_cycle,scoring_method:t.scoring_method,cyclesDB:t.cyclesDB,refresh:!0}),console.log("league data in admin page",t,n.state)})).catch((function(e){return console.log("AdminPage",e)}))},n.switchTab=function(e){var t,a,s;switch(e){case"LeagueData":n.setState({showCycle:0}),t=Object(d.jsx)(T,{data:n.state,onDataChange:function(){return n.setState({leagueID:0})}});break;case"addCycle":s=n.props.leagueID,fetch("https://toto-server.herokuapp.com/addcycle/".concat(s),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("add cycle",t)})).catch((function(e){return console.log("AdminPage",e)})),n.setState({toast:Object(d.jsx)(A,{pop:!0,onClose:function(){n.setState({toast:0})},message:"\u05e0\u05d5\u05e1\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8 \u05d7\u05d3\u05e9 \u05dc\u05dc\u05d9\u05d2\u05d4!"}),leagueID:0}),t=Object(d.jsx)(T,{data:n.state,onDataChange:function(){return n.setState({leagueID:0})}});break;case"close":a=n.state.showCycle,fetch("https://toto-server.herokuapp.com/closecycle/".concat(a),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("close cycle",t)})).catch((function(e){return console.log("AdminPage",e)})),n.setState({toast:Object(d.jsx)(A,{pop:!0,onClose:function(){n.setState({toast:0})},message:"\u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e1\u05d2\u05d5\u05e8 - \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e2\u05d3\u05db\u05df \u05d9\u05d5\u05ea\u05e8 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea"}),leagueID:0}),t=Object(d.jsx)(T,{data:n.state,onDataChange:function(){return n.setState({leagueID:0})}});break;case"lock":B?(!function(e){fetch("https://toto-server.herokuapp.com/lockcycle/".concat(e),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("lock cycle",t)})).catch((function(e){return console.log("AdminPage",e)}))}(n.state.showCycle),n.setState({toast:Object(d.jsx)(A,{pop:!0,onClose:function(){n.setState({toast:0})},message:"\u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05e2\u05d5\u05dc - \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05de\u05e8"}),leagueID:0}),t=Object(d.jsx)(T,{data:n.state,onDataChange:function(){return n.setState({leagueID:0})}})):(n.setState({toast:Object(d.jsx)(A,{pop:!0,onClose:function(){n.setState({toast:0})},message:"\u05e7\u05d9\u05d9\u05de\u05d9\u05dd \u05e9\u05d7\u05e7\u05e0\u05d9\u05dd \u05e9\u05d8\u05e8\u05dd \u05e9\u05dc\u05d7\u05d5 \u05d4\u05d9\u05de\u05d5\u05e8 - \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e0\u05e2\u05d5\u05dc \u05d0\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8"}),leagueID:0}),t=Object(d.jsx)(L,{data:n.state,cycleID:n.state.showCycle,onSelect:function(e){n.switchTab(e)}}));break;case"unlock":n.setState({toast:Object(d.jsx)(A,{pop:!0,onClose:function(){n.setState({toast:0})},message:"\u05e0\u05e2\u05d9\u05dc\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05d1\u05d5\u05d8\u05dc\u05d4"}),leagueID:0}),function(e){var t="https://toto-server.herokuapp.com/unlockcycle/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response unlockcycle",e),e.json()})).then((function(e){console.log("response unlockcycle",e)})).catch((function(e){return console.log("unlockcycle",e)}))}(n.state.showCycle),t=Object(d.jsx)(T,{data:n.state,onDataChange:function(){return n.setState({leagueID:0})}});break;case"unclose":!function(e){var t="https://toto-server.herokuapp.com/unclosecycle/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response unclosecycle",e),e.json()})).then((function(e){console.log("response unclosecycle",e)})).catch((function(e){return console.log("unclosecycle",e)}))}(n.state.showCycle),n.setState({toast:Object(d.jsx)(A,{pop:!0,onClose:function(){n.setState({toast:0})},message:"\u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05e4\u05ea\u05d7 \u05dc\u05e2\u05d3\u05db\u05d5\u05df \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05de\u05e9\u05d7\u05e7\u05d9\u05dd"}),leagueID:0}),t=Object(d.jsx)(T,{data:n.state,onDataChange:function(){return n.setState({leagueID:0})}});break;case"scoreUpdate":n.setState({toast:Object(d.jsx)(A,{pop:!0,onClose:function(){n.setState({toast:0})},message:"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05e0\u05d5"}),leagueID:0}),t=Object(d.jsx)(T,{data:n.state,onDataChange:function(){return n.setState({leagueID:0})}});break;default:n.setState({showCycle:e}),t=Object(d.jsx)(L,{data:n.state,cycleID:parseInt(e),onSelect:function(e){n.switchTab(e)}})}n.setState({table:t})},n.state={leagueID:0,leagueName:"",cyclesIDs:[],membersIDs:[],names_array:[],scores_array:[],current_cycle:0,scoring_method:1,cyclesDB:0,showCycle:0,table:0,toast:Object(d.jsx)("p",{}),refresh:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;if(0!==this.props.leagueID){var t="https://toto-server.herokuapp.com/home/leagueadmin/".concat(this.props.leagueID);0===this.state.leagueID&&this.fullLeagueData(t)}var a=this.state.table;0===a&&0!==this.state.leagueID&&this.switchTab(this.state.current_cycle);var n=this.state.toast,s=this.state.cyclesDB,c=0;return Array.isArray(s)&&this.state.showCycle>0&&(c=s.find((function(t){return t.cycleid===parseInt(e.state.showCycle)}))),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{}),Object(d.jsxs)("h1",{children:[" \u05dc\u05d9\u05d2\u05ea  ",this.state.leagueName," - \u05e2\u05de\u05d5\u05d3 \u05e0\u05d9\u05d4\u05d5\u05dc "]}),n,Object(d.jsx)(k,{onSelect:function(t){e.switchTab(t)},cycles:this.state.cyclesIDs,cycleID:this.state.showCycle,cycleData:c}),a]})}}]),a}(s.a.Component),G=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Profile Page - under construction"})})}}]),a}(s.a.Component),_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onLeagueNameChange=function(e){n.setState({leagueName:e.target.value})},n.onLeagueIdChange=function(e){n.setState({leagueID:e.target.value})},n.JoinLeague=function(){fetch("https://toto-server.herokuapp.com/joinLeague",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueName:n.state.leagueName,leagueID:n.state.leagueID,userID:n.props.userID,userName:n.props.username})}).then((function(e){return e.json()})).then((function(e){var t=e[e.length-1];console.log("join league",t),n.props.onJoining(t)})).catch((function(e){return console.log("join",e)}))},n.state={leagueName:"",leagueID:0,badSubmition:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=Object(d.jsx)(d.Fragment,{});return 0===this.props.isAdmin&&(t=Object(d.jsxs)(f.a.Group,{children:["OR... \xa0\xa0\xa0",Object(d.jsx)(y.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),e.props.createLeague()},children:"Create new League as Admin"})]})),Object(d.jsx)("div",{children:Object(d.jsxs)(f.a,{className:"joinForm",children:[Object(d.jsxs)(f.a.Group,{controlId:"text",children:[Object(d.jsx)(f.a.Label,{children:"League Name"}),Object(d.jsx)(f.a.Control,{type:"text",placeholder:"Enter league name",onChange:this.onLeagueNameChange})]}),Object(d.jsxs)(f.a.Group,{controlId:"text",children:[Object(d.jsx)(f.a.Label,{children:"League ID"}),Object(d.jsx)(f.a.Control,{type:"text",placeholder:"Enter league ID number",onChange:this.onLeagueIdChange})]}),Object(d.jsx)(f.a.Group,{children:Object(d.jsx)(y.a,{variant:"primary",type:"submit",size:"lg",onClick:function(){return e.JoinLeague()},children:"Join League"})}),t]})})}}]),a}(s.a.Component),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onNameChange=function(e){n.setState({leagueName:e.target.value})},n.onScoreMethodChange=function(e){n.setState({scoringMethod:e.target.value})},n.onSubmition=function(){console.log("create league",n.state),""!==n.state.leagueName&&fetch("https://toto-server.herokuapp.com/createleague",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueName:n.state.leagueName,scoringMethod:n.state.scoringMethod,userID:n.props.userID,userName:n.props.userName})}).then((function(e){console.log(e),e.json()})).then((function(e){console.log("new league",e),n.props.newLeague()})).catch((function(e){return console.log("create league",e)}))},n.state={leagueName:"",scoringMethod:1,badSubmition:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="League Name",a="Scoring method",n="Create new league as admin";return"hebrew"===this.props.language&&(t="\u05e9\u05dd \u05d4\u05dc\u05d9\u05d2\u05d4",a="\u05e9\u05d9\u05d8\u05ea \u05e0\u05d9\u05e7\u05d5\u05d3",n="\u05e6\u05d5\u05e8 \u05dc\u05d9\u05d2\u05d4 \u05d7\u05d3\u05e9\u05d4 \u05db\u05de\u05e0\u05d4\u05dc \u05dc\u05d9\u05d2\u05d4"),console.log("inside create league",this.state),Object(d.jsxs)("div",{className:"Hebrew",children:[Object(d.jsx)("p",{}),Object(d.jsxs)(f.a,{className:"registerForm",children:[Object(d.jsxs)(f.a.Group,{children:[Object(d.jsx)(f.a.Label,{children:t}),Object(d.jsx)("p",{}),Object(d.jsx)(f.a.Control,{type:"text",placeholder:t,onChange:this.onNameChange})]}),Object(d.jsxs)(f.a.Group,{children:[Object(d.jsx)(f.a.Label,{children:a}),Object(d.jsx)("p",{}),Object(d.jsxs)(f.a.Control,{as:"select",size:"sm",onChange:function(t){return e.onScoreMethodChange(t)},value:this.state.scoringMethod,children:[Object(d.jsx)("option",{value:"1",children:" (2, x, 1) \u05d4\u05e9\u05d9\u05d8\u05d4 \u05d4\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea - \u05e0\u05e7\u05d5\u05d3\u05d4 \u05dc\u05db\u05dc \u05e0\u05d9\u05d7\u05d5\u05e9 \u05e0\u05db\u05d5\u05df \u05d1\u05d8\u05d5\u05e4\u05e1 "}),Object(d.jsx)("option",{value:"2",children:"\u05d4\u05e9\u05d9\u05d8\u05d4 \u05d4\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea \u05e2\u05dd \u05de\u05e9\u05d7\u05e7\u05d9 \u05d1\u05d5\u05e0\u05d5\u05e1 (2 \u05e0\u05e7')"}),Object(d.jsx)("option",{value:"2",children:"\u05e9\u05d9\u05d8\u05ea \u05d4\u05d9\u05d5\u05e8\u05d5 (\u05d1\u05e7\u05e8\u05d5\u05d1)"})]})]}),Object(d.jsx)(f.a.Group,{children:Object(d.jsx)(y.a,{type:"submit",onClick:function(t){e.onSubmition()},children:n})})]})]})}}]),a}(s.a.Component);function E(e){var t=Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{eventKey:"adminPage",children:" \u05d3\u05e3 \u05e0\u05d9\u05d4\u05d5\u05dc \u05dc\u05d9\u05d2\u05d4 "})}),a=Object(d.jsx)(d.Fragment,{});return 0===e.isAdmin&&(t=Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{disable:!0,children:"  "})}),a=Object(d.jsx)(j.a.Item,{eventKey:"create",children:" \u05e4\u05ea\u05d7 \u05dc\u05d9\u05d2\u05d4 \u05d7\u05d3\u05e9\u05d4 \u05db\u05d0\u05d3\u05de\u05d9\u05df "})),Object(d.jsx)("div",{children:Object(d.jsxs)(h.a,{onSelect:function(t){return e.onSelect(t)},children:[Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{eventKey:e.leagueID,children:" \u05e2\u05de\u05d5\u05d3 \u05d1\u05d9\u05ea "})}),Object(d.jsxs)(j.a,{title:"\u05d4\u05d7\u05dc\u05e3 \u05dc\u05d9\u05d2\u05d4",id:"nav-dropdown",children:[e.leagues.map((function(e,t){return Object(d.jsxs)(j.a.Item,{eventKey:e,children:["\u05dc\u05d9\u05d2\u05d4 ",e]},t)})),Object(d.jsx)(j.a.Divider,{}),Object(d.jsx)(j.a.Item,{eventKey:"join",children:" \u05d4\u05e6\u05d8\u05e8\u05e3 \u05dc\u05dc\u05d9\u05d2\u05d4 \u05e7\u05d9\u05d9\u05de\u05ea"}),a]}),Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{eventKey:"profilePage",children:" \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc (\u05d1\u05d4\u05db\u05e0\u05d4) "})}),t,Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{onClick:function(){e.onClick()},children:"\u05d4\u05ea\u05e0\u05ea\u05e7  "})})]})})}var F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).userData=function(e){fetch(e,{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e[0];n.setState({userID:t.userid,userName:t.username,defaultLeague:t.defaultleague,isAdmin:t.isadmin,leagues:t.leagues,language:t.main_language}),console.log("home data",t,n.state)})).catch((function(e){return console.log("home",e)}))},n.switchTab=function(e){var t;switch(console.log("switchTab",e),e){case"profilePage":t=Object(d.jsx)(G,{userID:n.state.userID});break;case"adminPage":t=Object(d.jsx)(P,{leagueID:n.state.isAdmin});break;case"create":t=Object(d.jsx)(K,{userID:n.state.userID,userName:n.state.userName,newLeague:function(){n.setState({userID:0,navBar:0})},language:n.state.language});break;case"join":t=Object(d.jsx)(_,{userID:n.state.userID,username:n.state.userName,onJoining:function(e){n.switchTab(e)},isAdmin:n.state.isAdmin,createLeague:function(){n.switchTab("create")}});break;default:n.setState({currentLeague:parseInt(e)}),t=Object(d.jsx)(S,{userName:n.state.userName,userID:n.state.userID,leagueID:parseInt(e),leagues:n.state.leagues})}n.setState({navBar:t})},n.state={userID:0,userName:"",defaultLeague:0,currentLeague:0,isAdmin:0,leagues:[],navBar:0,language:"english"},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="https://toto-server.herokuapp.com/home/user/".concat(this.props.user);if(0!==this.props.user&&0===this.state.userID&&this.userData(t),0===this.state.defaultLeague&&0!==this.state.userID)return Object(d.jsx)(_,{userID:this.state.userID,username:this.state.userName,onJoining:function(){e.userData(t)},isAdmin:this.state.isAdmin,createLeague:function(){e.setState({defaultLeague:-1}),e.switchTab("create")}});var a=this.state.navBar;return 0===a&&0!==this.state.userID&&(0===this.state.currentLeague?this.switchTab(this.state.defaultLeague):this.switchTab(this.state.currentLeague)),Object(d.jsxs)("div",{children:[Object(d.jsx)(E,{onClick:function(){e.props.logOut()},onSelect:function(t){e.switchTab(t)},isAdmin:this.state.isAdmin,leagues:this.state.leagues,leagueID:this.state.currentLeague}),a]})}}]),a}(s.a.Component),J=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onEmailChange=function(e){n.setState({signinEmail:e.target.value})},n.onPasswordChange=function(e){n.setState({signinPassword:e.target.value})},n.onSubmitSignin=function(){if(""!==n.state.signinEmail)return fetch("https://toto-server.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.signinEmail,password:n.state.signinPassword})}).then((function(e){return e.json()})).then((function(e){var t=parseInt(e);console.log("signin",t),n.props.onRegistration(t)})).catch((function(e){return console.log("signin",e)}))},n.state={signinEmail:"",signinPassword:"",badSubmition:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="Email address",a="Password",n="Log In";return"hebrew"===this.props.language&&(t="\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",a="\u05e1\u05d9\u05e1\u05de\u05d0",n="\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),Object(d.jsx)("div",{children:Object(d.jsxs)(f.a,{className:"signinForm",children:[Object(d.jsxs)(f.a.Group,{children:[Object(d.jsx)(f.a.Label,{children:t}),Object(d.jsx)("p",{}),Object(d.jsx)(f.a.Control,{type:"text",placeholder:"Enter email",autocomplete:"username",onChange:this.onEmailChange})]}),Object(d.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(d.jsx)(f.a.Label,{children:a}),Object(d.jsx)("p",{}),Object(d.jsx)(f.a.Control,{type:"password",placeholder:"Password",autocomplete:"current-password",onChange:this.onPasswordChange})]}),Object(d.jsx)(f.a.Group,{children:Object(d.jsx)(y.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),e.onSubmitSignin()},children:n})})]})})}}]),a}(s.a.Component),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onEmailChange=function(e){n.setState({newEmail:e.target.value})},n.onUsernameChange=function(e){n.setState({newUserName:e.target.value})},n.onPasswordChange=function(e){n.setState({newPassword:e.target.value})},n.onPasswordAgainChange=function(e){n.setState({passwordAgain:e.target.value})},n.onSubmitRegister=function(){n.state.newPassword===n.state.passwordAgain&&fetch("https://toto-server.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.newEmail,username:n.state.newUserName,password:n.state.newPassword})}).then((function(e){return e.json()})).then((function(e){var t=parseInt(e);console.log("register",t),n.props.onRegistration(t)})).catch((function(e){return console.log("register",e)}))},n.state={newEmail:"",newUserName:"",newPassword:"",passwordAgain:"",badSubmition:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="Email address",a="User Name",n="Password",s="Please re-enter Password",c="Register";return"hebrew"===this.props.language&&(t="\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",a="\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 (\u05e6\u05d9\u05d1\u05d5\u05e8\u05d9)",n="\u05e1\u05d9\u05e1\u05de\u05d0",s="\u05d4\u05d6\u05e0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05d1\u05e9\u05e0\u05d9\u05ea",c="\u05d4\u05e8\u05e9\u05de\u05d4"),Object(d.jsx)("div",{children:Object(d.jsxs)(f.a,{className:"registerForm",children:[Object(d.jsxs)(f.a.Group,{children:[Object(d.jsx)(f.a.Label,{children:t}),Object(d.jsx)(f.a.Control,{type:"text",placeholder:"Enter email",autocomplete:"username",onChange:this.onEmailChange})]}),Object(d.jsxs)(f.a.Group,{controlId:"formUsername",children:[Object(d.jsx)(f.a.Label,{children:a}),Object(d.jsx)(f.a.Control,{type:"text",placeholder:"Enter a unique user name (public)",autocomplete:"username",onChange:this.onUsernameChange})]}),Object(d.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(d.jsx)(f.a.Label,{children:n}),Object(d.jsx)(f.a.Control,{type:"password",placeholder:"Password",autocomplete:"new-password",onChange:this.onPasswordChange})]}),Object(d.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(d.jsx)(f.a.Label,{children:s}),Object(d.jsx)(f.a.Control,{type:"password",placeholder:"Password (again)",autocomplete:"new-password",onChange:this.onPasswordAgainChange})]}),Object(d.jsx)(f.a.Group,{children:Object(d.jsx)(y.a,{variant:"primary",type:"submit",onClick:function(){return e.onSubmitRegister()},children:c})})]})})}}]),a}(s.a.Component),H=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).eventsHandler=function(e){switch(e){case"english":case"hebrew":n.props.changeLanguage(e),n.setState({language:e});break;case"register":n.setState({register:!0});break;case"login":case"about":n.setState({register:!1});break;default:n.setState({register:!1})}},n.state={register:!1,language:n.props.language,userID:0},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=Object(d.jsx)(J,{onRegistration:function(t){return e.setState({userID:t})},language:this.state.language});this.state.register&&(t=Object(d.jsx)(z,{onRegistration:function(t){return e.setState({userID:t})},language:this.state.language})),0!==this.state.userID&&this.props.validLogin(parseInt(this.state.userID));var a="About",n="Register",s="Log In",c="signinPage English";return"hebrew"===this.state.language&&(a="\u05d0\u05d5\u05d3\u05d5\u05ea",n="\u05d4\u05e8\u05e9\u05de\u05d4",s="\u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05d7\u05e9\u05d1\u05d5\u05df",c="signinPage Hebrew"),Object(d.jsxs)("div",{className:c,children:[Object(d.jsxs)(h.a,{onSelect:function(t){return e.eventsHandler(t)},children:[Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{eventKey:"english",children:"English"})}),Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{eventKey:"hebrew",children:"\u05e2\u05d1\u05e8\u05d9\u05ea"})}),Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{eventKey:"about",children:a})}),Object(d.jsx)(h.a.Item,{children:Object(d.jsxs)(h.a.Link,{eventKey:"register",children:[n," "]})}),Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{eventKey:"login",children:s})})]}),Object(d.jsx)("div",{}),t,Object(d.jsx)("div",{})]})}}]),a}(s.a.Component),R=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userID:0,language:"english"},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return 0!==this.state.userID?Object(d.jsx)(F,{user:this.state.userID,logOut:function(){e.setState({userID:0})},language:this.state.language}):Object(d.jsx)(H,{validLogin:function(t){e.setState({userID:t})},changeLanguage:function(t){e.setState({language:t})}})}}]),a}(s.a.Component),U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root")),U()}},[[68,1,2]]]);
//# sourceMappingURL=main.2d6c2d55.chunk.js.map