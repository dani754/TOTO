(this["webpackJsonptoto-production"]=this["webpackJsonptoto-production"]||[]).push([[0],{16:function(e,t,a){},19:function(e,t,a){},62:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(21),r=a.n(n),o=(a(62),a(9)),l=a(10),i=a(12),h=a(11),j=a(74),d=a(73),u=(a(19),a(16),a(0));function b(e){var t=e.cycles;return t.sort((function(e,t){return t-e})),Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},className:"secondNav",children:[Object(u.jsxs)(j.a.Item,{className:"secondNavItem",children:[Object(u.jsxs)(j.a.Link,{eventKey:"CycleTable",children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-t.indexOf(parseInt(e.cycleID))," "]}),Object(u.jsx)(d.a,{id:"nav-dropdown",className:"inlineDropmenu",children:t.map((function(e,a){return Object(u.jsxs)(d.a.Item,{eventKey:e,children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-a]},a)}))})]}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"LeagueTable",children:"\u05d8\u05d1\u05dc\u05ea \u05d4\u05dc\u05d9\u05d2\u05d4"})})]})})}var m=a(18),p=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).cycleData=function(e){fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var t=e;c.setState({cycleID:t.cycleid,cycleData:t}),console.log("state cycle",c.state)})).catch((function(e){return console.log(e)}))},c.sortByTotalScore=function(){var e=c.state.table;e.sort((function(e,t){return t.totalScore-e.totalScore})),console.log("new sort array",e),c.setState({table:e})},c.sortByCycleScore=function(){var e=c.state.table;e.sort((function(e,t){return t.currentCycleScore-e.currentCycleScore})),console.log("new sort array",e),c.setState({table:e})},c.state={table:[{userName:"await",totalScore:1,currentCycleScore:1,originIndex:0}],cycleID:0},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;if(0!==this.props.data.current_cycle){var t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.data.current_cycle);this.state.cycleID!==this.props.data.current_cycle&&this.cycleData(t)}if(Array.isArray(this.props.data.names_array)&&"await"===this.state.table[0].userName&&0!==this.state.cycleID){var a=this.props.data.names_array.map((function(t,a){return{index:a,userName:t,totalScore:e.props.data.scores_array[a],currentCycleScore:e.state.cycleData.membersscores[a]}}));a.sort((function(e,t){return t.totalScore-e.totalScore})),this.setState({table:a})}return Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{type:"button",className:"sortButton",onClick:function(){return e.sortByCycleScore()},children:"\u05e0\u05d9\u05e7\u05d5\u05d3 \u05dc\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05d5\u05db\u05d7\u05d9"}),Object(u.jsx)("th",{type:"button",className:"sortButton",onClick:function(){return e.sortByTotalScore()},children:'\u05e1\u05d4"\u05db \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea'}),Object(u.jsx)("th",{children:"\u05e9\u05dd"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:this.state.table.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.currentCycleScore}),Object(u.jsx)("td",{children:e.totalScore}),Object(u.jsx)("td",{children:e.userName}),Object(u.jsx)("td",{children:t+1})]})}))})]})})}}]),a}(s.a.Component),O=a(37),x=a(55),g=a(54),y=a(13),f=a(8),v=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).cycleData=function(e){var t=c.props.data.membersids.indexOf(c.props.userID);fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var a=e;c.setState({cycleID:a.cycleid,gamesIDs:a.gamesids,cycleOrderInLeague:a.cycleorderinleague,isLocked:a.islocked,membersScores:a.membersscores,gamesDB:a.gamesDB,userIndex:t}),console.log("state cycle",c.state)})).catch((function(e){return console.log(e)}))},c.setTable=function(){var e=[{gameid:1,hometeam:"await",awayteam:"await",score:"await",userBet:"await",cycleid:parseInt(c.props.cycleID),bets:[0]}];Array.isArray(c.state.gamesDB)&&c.state.gamesDB.length>0&&(e=c.state.gamesDB.map((function(e){var t="\u05d8\u05e8\u05dd \u05e0\u05e7\u05d1\u05e2";c.state.isLocked&&e.score>0&&(t=3===e.score?"x":e.score);var a=e.membersbets[c.state.userIndex];c.state.isLocked&&3===a&&(a="x");var s="";return e.isbonus&&(s="\u05d1\u05d5\u05e0\u05d5\u05e1! "),{hometeam:e.hometeam,awayteam:e.awayteam,score:t,userBet:a,cycleid:e.cycleid,gameID:e.gameid,bonus:s,isbonus:e.isbonus,bets:e.membersbets}}))),c.setState({table:e}),console.log("new table",c.state.table)},c.handleChange=function(e,t){var a=c.state.table;a[t].userBet=e.target.value,c.setState({table:a})},c.handleSubmit=function(){if(c.state.table[0].cycleid===c.state.cycleID&&Array.isArray(c.state.gamesDB)&&c.state.gamesDB.length>0)return fetch("https://toto-server.herokuapp.com/updatebets",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIndex:c.state.userIndex,gamesTable:c.state.table})}).then((function(e){return console.log("updatebets res",e),e.json()})).then((function(e){return console.log("updatebets",e),c.props.onSubmit(c.state.table)})).catch((function(e){return console.log("updatebets",e)}))},c.state={cycleID:0,gamesIDs:[],cycleOrderInLeague:0,isLocked:!0,membersScores:[],gamesDB:[],table:[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:0,userBet:0,bets:[0]}],userIndex:0},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.cycleID);parseInt(this.state.cycleID)!==parseInt(this.props.cycleID)&&this.cycleData(t);var a=this.state.table;return a[0].cycleid!==this.state.cycleID&&0!==this.state.cycleID&&this.setTable(),this.state.isLocked||"await"===a[0].hometeam?Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"tr5column",children:[Object(u.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(u.jsx)("th",{children:"\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e9\u05dc\u05da"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:a.map((function(t,a){return t.isbonus?Object(u.jsxs)("tr",{className:"bonusLine",children:[Object(u.jsx)("td",{children:Object(u.jsx)(x.a,{className:"OverlayTrigger",placement:"right",overlay:Object(u.jsx)(g.a,{id:"tooltip-right",style:{width:"150%"},children:Object(u.jsxs)(m.a,{className:"tooltipTable",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:":\u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd"})]})}),Object(u.jsx)("tbody",{children:t.bets.map((function(t,a){var c=t;return 3===t&&(c="x"),Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("td",{className:"tooltipTableText",children:c}),Object(u.jsx)("td",{className:"tooltipTableText",children:e.props.data.names_array[a]})]},a)}))})]})}),children:Object(u.jsx)(y.a,{className:"invisibleButton",children:t.score})})}),Object(u.jsx)("td",{children:t.userBet}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{className:"hebrew",children:"\u05d1\u05d5\u05e0\u05d5\u05e1"})]},a):Object(u.jsxs)("tr",{className:"tr5column",children:[Object(u.jsx)("td",{children:Object(u.jsx)(x.a,{className:"OverlayTrigger",placement:"right",overlay:Object(u.jsx)(g.a,{id:"tooltip-right",style:{width:"150%"},children:Object(u.jsxs)(m.a,{className:"tooltipTable",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:":\u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd"})]})}),Object(u.jsx)("tbody",{children:t.bets.map((function(t,a){var c=t;return 3===t&&(c="x"),Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("td",{className:"tooltipTableText",children:c}),Object(u.jsx)("td",{className:"tooltipTableText",children:e.props.data.names_array[a]})]},a)}))})]})}),children:Object(u.jsx)(y.a,{className:"invisibleButton",children:t.score})})}),Object(u.jsx)("td",{children:t.userBet}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)}))})]})}):Object(u.jsx)("div",{children:Object(u.jsx)(f.a,{onSubmit:function(t){t.preventDefault(),e.handleSubmit()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u05d4\u05d9\u05de\u05d5\u05e8"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:a.map((function(t,a){var c,s;return t.isbonus?Object(u.jsxs)("tr",{className:"bonusLineFour",children:[Object(u.jsx)("td",(c={className:"hebrew"},Object(O.a)(c,"className","bet"),Object(O.a)(c,"children",Object(u.jsx)(f.a.Group,{className:"bet",children:Object(u.jsxs)(f.a.Control,{className:"bet",as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.userBet,children:[Object(u.jsx)("option",{value:"0",className:"hebrew",children:"\u05de\u05de\u05ea\u05d9\u05df"}),Object(u.jsx)("option",{value:"1",className:"hebrew",children:"1"}),Object(u.jsx)("option",{value:"2",className:"hebrew",children:"2"}),Object(u.jsx)("option",{value:"3",className:"hebrew",children:"x"})]},a)})),c)),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{className:"hebrew",children:"\u05d1\u05d5\u05e0\u05d5\u05e1"})]},a):Object(u.jsxs)("tr",{className:"hebrew",children:[Object(u.jsx)("td",(s={className:"hebrew"},Object(O.a)(s,"className","bet"),Object(O.a)(s,"children",Object(u.jsx)(f.a.Group,{className:"bet",children:Object(u.jsxs)(f.a.Control,{className:"bet",as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.userBet,children:[Object(u.jsx)("option",{value:"0",className:"hebrew",children:"\u05de\u05de\u05ea\u05d9\u05df"}),Object(u.jsx)("option",{value:"1",className:"hebrew",children:"1"}),Object(u.jsx)("option",{value:"2",className:"hebrew",children:"2"}),Object(u.jsx)("option",{value:"3",className:"hebrew",children:"x"})]},a)})),s)),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)}))}),Object(u.jsx)(y.a,{size:"lg",style:{color:"black"},type:"submit",children:"\u05e9\u05de\u05d5\u05e8 \u05d4\u05d9\u05de\u05d5\u05e8"})]})})})}}]),a}(s.a.Component),D=a(45),I=a(23),C=a(15),N=a(28);function w(e){var t=Object(c.useState)(e.show),a=Object(D.a)(t,2),s=a[0],n=a[1],r="\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4";return e.complete||(r="\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df! \u05e9\u05d9\u05dd \u05dc\u05d1, \u05e7\u05d9\u05d9\u05de\u05d9\u05dd \u05de\u05e9\u05d7\u05e7\u05d9\u05dd \u05e9\u05d8\u05e8\u05dd \u05d4\u05d9\u05de\u05e8\u05ea \u05e2\u05dc\u05d9\u05d4\u05dd"),Object(u.jsx)(I.a,{children:Object(u.jsx)(C.a,{xs:6,children:Object(u.jsx)(N.a,{onClose:function(){return n(!1)},show:s,delay:4e3,autohide:!0,children:Object(u.jsxs)(N.a.Header,{children:[Object(u.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(u.jsx)("strong",{className:"mr-auto",children:r})]})})})})}s.a.Component;function S(e){var t=e.cycles;if(t.sort((function(e,t){return t-e})),0!==e.cycleID){var a=Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"lock",children:" \u05e0\u05e2\u05d9\u05dc\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})})});return e.cycleData.islocked&&(a=e.cycleData.isclosed?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"unclose",children:" \u05d1\u05d9\u05d8\u05d5\u05dc \u05e1\u05d2\u05d9\u05e8\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"close",children:" \u05e1\u05d2\u05d9\u05e8\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"unlock",children:" \u05d1\u05d9\u05d8\u05d5\u05dc \u05e0\u05e2\u05d9\u05dc\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})})]})),Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},className:"adminNav",children:[Object(u.jsxs)(j.a.Item,{className:"secondNavItem",children:[Object(u.jsxs)(j.a.Link,{eventKey:e.cycleID,children:[" ",t.length-t.indexOf(parseInt(e.cycleID))," \u05de\u05d7\u05d6\u05d5\u05e8 "]}),Object(u.jsxs)(d.a,{id:"nav-dropdown",className:"inlineDropmenu",children:[t.map((function(e,a){return Object(u.jsxs)(d.a.Item,{eventKey:e,children:[" ",t.length-a," \u05de\u05d7\u05d6\u05d5\u05e8"]},a)})),Object(u.jsx)(d.a.Divider,{}),Object(u.jsx)(d.a.Item,{eventKey:"addCycle",children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8 \u05d7\u05d3\u05e9  "})]})]}),a,Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"LeagueData",children:"\u05e2\u05de\u05d5\u05d3 \u05dc\u05d9\u05d2\u05d4"})})]})})}return Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},className:"adminNav",children:[Object(u.jsx)(d.a,{id:"nav-dropdown",className:"secondNavItem",title:"\u05e2\u05d1\u05d5\u05e8 \u05dc\u05de\u05d7\u05d6\u05d5\u05e8",children:t.map((function(e,a){return Object(u.jsxs)(d.a.Item,{eventKey:e,children:[" ",t.length-a," \u05de\u05d7\u05d6\u05d5\u05e8"]},a)}))}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"addCycle",children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8 \u05d7\u05d3\u05e9 "})})]})})}var k=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).cycleData=function(e){fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var t=e;c.setState({cycleID:t.cycleid,gamesIDs:t.gamesids,cycleOrderInLeague:t.cycleorderinleague,isLocked:t.islocked,isClosed:t.isclosed,membersScores:t.membersscores,gamesDB:t.gamesDB}),console.log("state admin cycle",c.state)})).catch((function(e){return console.log(e)}))},c.setTable=function(){var e=[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:c.props.cycleID}];Array.isArray(c.state.gamesDB)&&c.state.gamesDB.length>0&&(e=c.state.gamesDB.map((function(e){var t=e.score;return c.state.isClosed&&3===t&&(t="x"),{hometeam:e.hometeam,awayteam:e.awayteam,score:t,newScore:e.score,cycleid:e.cycleid,gameID:e.gameid,isbonus:e.isbonus}}))),c.setState({table:e})},c.handleGamesInput=function(e,t,a){if(1===a){var s=c.state.hometeam;s[t]=e.target.value,c.setState({hometeam:s})}else{var n=c.state.awayteam;n[t]=e.target.value,c.setState({awayteam:n})}},c.addGames=function(){for(var e=function(e){""!==c.state.hometeam[e]&&""!==c.state.awayteam[e]&&fetch("https://toto-server.herokuapp.com/addgame",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({hometeam:c.state.hometeam[e],awayteam:c.state.awayteam[e],cycleID:c.state.cycleID,leagueID:c.props.data.leagueID,leagueSize:c.props.data.membersIDs.length,firstGame:"await"===c.state.table[0].hometeam})}).then((function(e){return e.json()})).then((function(t){if(e===c.state.gamesToAdd){var a=c.state.table;a[0].cycleid=0,c.setState({cycleID:0,gamesToAdd:0,hometeam:[""],awayteam:[""],table:a})}})).catch((function(e){return console.log("addGame",e)}))},t=0;t<=c.state.gamesToAdd;t++)e(t)},c.deleteGame=function(e){console.log("delete game",e);var t="https://toto-server.herokuapp.com/deletegame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response deletegame",e),e.json()})).then((function(e){var t=c.state.table;t[0].cycleid=0,c.setState({cycleID:0,table:t}),console.log("response deletegame",e)})).catch((function(e){return console.log("deletegame",e)}))},c.markAsBonusGame=function(e){console.log("bunus game",e);var t="https://toto-server.herokuapp.com/bonusgame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response bonusgame",e),e.json()})).then((function(e){var t=c.state.table;t[0].cycleid=0,c.setState({cycleID:0,table:t}),console.log("response bonusgame",e)})).catch((function(e){return console.log("bonusgame",e)}))},c.unmarkAsBonusGame=function(e){console.log("un-bunus game",e);var t="https://toto-server.herokuapp.com/unbonusgame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response unbonusgame",e),e.json()})).then((function(e){var t=c.state.table;t[0].cycleid=0,c.setState({cycleID:0,table:t}),console.log("response unbonusgame",e)})).catch((function(e){return console.log("unbonusgame",e)}))},c.handleChange=function(e,t){var a=c.state.table;a[t].newScore=e.target.value,console.log("newCycleScore",a),c.setState({table:a})},c.updateScores=function(){console.log("updateScores",c.state),c.state.table[0].cycleid===c.state.cycleID&&Array.isArray(c.state.gamesDB)&&c.state.gamesDB.length>0&&fetch("https://toto-server.herokuapp.com/updatescores",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({gamesTable:c.state.table,cycleID:c.state.cycleID})}).then((function(e){return e.json()})).then((function(e){console.log("response updatescores",e),c.props.onSelect("scoreUpdate"),c.setState({cycleID:0})})).catch((function(e){return console.log("updatescores",e)}))},c.state={cycleID:0,gamesIDs:[],cycleOrderInLeague:0,isLocked:!0,isClosed:!0,membersScores:[],gamesDB:[],table:[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:0}],gamesToAdd:0,hometeam:[""],awayteam:[""]},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;console.log("cycle update state",this.state);var t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.cycleID);parseInt(this.state.cycleID)!==parseInt(this.props.cycleID)&&this.cycleData(t);var a=this.state.table;if(a[0].cycleid!==this.state.cycleID&&0!==this.state.cycleID&&this.setTable(),this.state.isClosed)return Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:a.map((function(e,t){return e.isbonus?Object(u.jsxs)("tr",{className:"bonusLineFour",children:[Object(u.jsx)("td",{children:e.score}),Object(u.jsx)("td",{children:e.awayteam}),Object(u.jsx)("td",{children:e.hometeam}),Object(u.jsx)("td",{children:t+1})]},t):Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.score}),Object(u.jsx)("td",{children:e.awayteam}),Object(u.jsx)("td",{children:e.hometeam}),Object(u.jsx)("td",{children:t+1})]},t)}))})]})});if(this.state.isLocked)return Object(u.jsx)("div",{children:Object(u.jsx)(f.a,{onSubmit:function(){return e.updateScores()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:a.map((function(t,a){return t.isbonus?Object(u.jsxs)("tr",{className:"bonusLineFour",children:[Object(u.jsx)("td",{children:Object(u.jsx)(f.a.Group,{children:Object(u.jsxs)(f.a.Control,{as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.newScore,children:[Object(u.jsx)("option",{value:"0",children:"await"}),Object(u.jsx)("option",{value:"1",children:"1"}),Object(u.jsx)("option",{value:"2",children:"2"}),Object(u.jsx)("option",{value:"3",children:"x"})]},a)})}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a):Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)(f.a.Group,{children:Object(u.jsxs)(f.a.Control,{as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.newScore,children:[Object(u.jsx)("option",{value:"0",children:"await"}),Object(u.jsx)("option",{value:"1",children:"1"}),Object(u.jsx)("option",{value:"2",children:"2"}),Object(u.jsx)("option",{value:"3",children:"x"})]},a)})}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)}))}),Object(u.jsx)(y.a,{style:{color:"black"},type:"button",onClick:function(){return e.updateScores()},children:"update scores"})]})})});var c=this.state.hometeam;return Object(u.jsx)("div",{children:Object(u.jsx)(f.a,{onSubmit:function(){return e.handleSubmit()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsxs)("tbody",{children:[a.map((function(t,a){return t.isbonus?Object(u.jsxs)("tr",{className:"bonusLineFour",children:[Object(u.jsxs)("td",{children:[Object(u.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return e.deleteGame(t.gameID)},children:"\u05de\u05d7\u05d9\u05e7\u05d4"}),Object(u.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return e.unmarkAsBonusGame(t.gameID)},children:"\u05d1\u05d8\u05dc \u05e1\u05d9\u05de\u05d5\u05df \u05db\u05d1\u05d5\u05e0\u05d5\u05e1"})]}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a):Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return e.deleteGame(t.gameID)},children:"\u05de\u05d7\u05d9\u05e7\u05d4"}),Object(u.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return e.markAsBonusGame(t.gameID)},children:"\u05e1\u05de\u05df \u05db\u05d1\u05d5\u05e0\u05d5\u05e1"})]}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)})),c.map((function(t,a){return Object(u.jsxs)("tr",{className:"Hebrew",children:[Object(u.jsxs)("td",{children:[" ",Object(u.jsx)(y.a,{style:{color:"black"},type:"button",onClick:function(){return e.setState({gamesToAdd:e.state.gamesToAdd+1,hometeam:e.state.hometeam.concat([""]),awayteam:e.state.awayteam.concat([""])})},children:"+ "})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)(f.a.Group,{children:Object(u.jsx)(f.a.Control,{type:"text",placeholder:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5",onChange:function(t){e.handleGamesInput(t,a,2)},value:e.state.awayteam[a]})})}),Object(u.jsx)("td",{children:Object(u.jsx)(f.a.Group,{children:Object(u.jsx)(f.a.Control,{type:"text",placeholder:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea",onChange:function(t){e.handleGamesInput(t,a,1)},value:e.state.hometeam[a]})})}),Object(u.jsx)("td",{children:"*"})]},a)}))]}),Object(u.jsx)(y.a,{style:{color:"black"},type:"button",onClick:function(){return e.addGames()},children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e9\u05d7\u05e7\u05d9\u05dd"})]})})})}}]),a}(s.a.Component),L=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).onLeagueNameChange=function(e){c.setState({newLeagueName:e.target.value})},c.changeLeagueName=function(){console.log("activate changeLeagueName",c.state),""!==c.state.newLeagueName&&c.state.newLeagueName!==c.state.currentLeagueName&&fetch("https://toto-server.herokuapp.com/changeleaguename",{method:"post",dataType:"json",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueID:c.props.data.leagueID,newLeagueName:c.state.newLeagueName})}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("change league name",t),c.setState({changeLeagueName:!1,currentLeagueName:c.state.newLeagueName}),c.props.onDataChange()})).catch((function(e){return console.log("AdminPage",e)}))},c.handleChange=function(e){c.setState({currentCycle:e.target.value})},c.updateCurrentCycle=function(){console.log("activate updateCurrentCycle",c.state),c.state.currentCycle!==c.props.data.current_cycle&&fetch("https://toto-server.herokuapp.com/updatecurrentcycle",{method:"post",dataType:"json",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueID:c.props.data.leagueID,newCurrentCycle:c.state.currentCycle})}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("change current league",t),c.props.onDataChange()})).catch((function(e){return console.log("AdminPage",e)}))},c.state={changeLeagueName:!1,currentLeagueName:c.props.data.leagueName,newLeagueName:"",currentCycle:c.props.data.current_cycle},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=Object(u.jsx)(C.a,{children:Object(u.jsxs)(f.a.Label,{className:"Hebrew",children:["\u05e9\u05dd \u05d4\u05dc\u05d9\u05d2\u05d4:      ",this.state.currentLeagueName," "]})});this.state.changeLeagueName&&(t=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.a,{children:Object(u.jsx)(y.a,{onClick:function(){return e.changeLeagueName()},children:" \u05e2\u05d3\u05db\u05df "})}),Object(u.jsx)(C.a,{children:Object(u.jsx)(f.a.Control,{className:"Hebrew",placeholder:this.state.currentLeagueName,onChange:function(t){return e.onLeagueNameChange(t)}})})]}));var a=this.props.data.cyclesIDs;return a.sort((function(e,t){return e-t})),Object(u.jsx)("div",{children:Object(u.jsxs)(f.a,{children:[Object(u.jsxs)(f.a.Group,{children:[Object(u.jsx)(f.a.Label,{children:"\u05e4\u05e8\u05d8\u05d9\u05dd \u05db\u05dc\u05dc\u05d9\u05dd"}),Object(u.jsxs)(I.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsx)(y.a,{onClick:function(){return e.setState({changeLeagueName:!0})},size:"sm",children:" \u05e9\u05e0\u05d4 \u05e9\u05dd \u05dc\u05d9\u05d2\u05d4"})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(f.a.Label,{className:"Hebrew",children:["\u05de\u05e1\u05e4\u05e8 \u05d4\u05dc\u05d9\u05d2\u05d4:   ",this.props.data.leagueID," "]})}),t]}),Object(u.jsx)("p",{})]}),Object(u.jsxs)(f.a.Group,{children:[Object(u.jsxs)(I.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsx)(y.a,{onClick:function(){return e.updateCurrentCycle()},size:"sm",children:"\u05e2\u05d3\u05db\u05df"})}),Object(u.jsx)(C.a,{children:Object(u.jsx)(f.a.Control,{as:"select",size:"sm",value:this.state.currentCycle,onChange:function(t){return e.handleChange(t)},children:a.map((function(e,t){return Object(u.jsx)("option",{value:e,children:t+1},t)}))})}),Object(u.jsx)(C.a,{children:Object(u.jsx)(f.a.Label,{children:"\u05e2\u05d3\u05db\u05d5\u05df \u05de\u05d7\u05d6\u05d5\u05e8 \u05dc\u05d4\u05e6\u05d2\u05d4 \u05d1\u05d8\u05d1\u05dc\u05ea \u05d4\u05dc\u05d9\u05d2\u05d4  "})})]}),Object(u.jsx)("p",{})]}),Object(u.jsx)(f.a.Group,{children:Object(u.jsxs)(I.a,{children:[Object(u.jsxs)(C.a,{children:[Object(u.jsx)(f.a.Label,{children:"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05e9\u05ea\u05ea\u05e4\u05d9\u05dd"}),Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"adminPageNamesTable",children:[Object(u.jsx)("th",{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),Object(u.jsx)("th",{children:"\u05e9\u05dd"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:this.props.data.names_array.map((function(e,t){return Object(u.jsxs)("tr",{className:"adminPageNamesTable",children:[Object(u.jsx)("td",{children:"\u05e4\u05e2\u05d9\u05dc"}),Object(u.jsx)("td",{children:e}),Object(u.jsx)("td",{children:t+1})]},t)}))})]})]}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(f.a.Label,{children:"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05d7\u05d6\u05d5\u05e8\u05d9\u05dd"}),Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"adminPageCycleTable",children:[Object(u.jsx)("th",{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:this.props.data.cyclesIDs.map((function(e,t){return Object(u.jsxs)("tr",{className:"adminPageCycleTable",children:[Object(u.jsx)("td",{children:"\u05e4\u05e2\u05d9\u05dc"}),Object(u.jsx)("td",{children:t+1})]},t)}))})]})]})]})})]})})}}]),a}(s.a.Component);function T(e){return fetch("https://toto-server.herokuapp.com/verifybets/".concat(e),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;return console.log("verify bets before lock cycle",t),t})).catch((function(e){return console.log("AdminPage",e)}))}function B(e){var t=Object(c.useState)(e.pop),a=Object(D.a)(t,2),s=a[0];a[1];return Object(u.jsx)(I.a,{children:Object(u.jsx)(C.a,{xs:6,children:Object(u.jsxs)(N.a,{onClose:function(){e.onClose()},show:s,children:[Object(u.jsx)(N.a.Header,{}),Object(u.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(u.jsx)(N.a.Body,{children:e.message})]})})})}var A=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).fullLeagueData=function(){fetch("https://toto-server.herokuapp.com/home/leagueadmin/".concat(c.props.leagueID),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;c.setState({leagueID:t.leagueid,leagueName:t.leaguename,cyclesIDs:t.cycles_ids,membersIDs:t.members_ids,membersNames:t.members_names,membersScores:t.members_scores_league,currentCycle:t.current_cycle_id,cyclesDB:t.cyclesDB,refresh:!0}),console.log("league data in admin page",t,c.state)})).catch((function(e){return console.log("AdminPage",e)}))},c.switchTab=function(e){var t,a,s;switch(e){case"LeagueData":c.setState({showCycle:0}),t=Object(u.jsx)(L,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"addCycle":s=c.props.leagueID,fetch("https://toto-server.herokuapp.com/addcycle/".concat(s),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("add cycle",t)})).catch((function(e){return console.log("AdminPage",e)})),c.setState({toast:Object(u.jsx)(B,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05e0\u05d5\u05e1\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8 \u05d7\u05d3\u05e9 \u05dc\u05dc\u05d9\u05d2\u05d4!"}),leagueID:0}),t=Object(u.jsx)(L,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"close":a=c.state.showCycle,fetch("https://toto-server.herokuapp.com/closecycle/".concat(a),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("close cycle",t)})).catch((function(e){return console.log("AdminPage",e)})),c.setState({toast:Object(u.jsx)(B,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e1\u05d2\u05d5\u05e8 - \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e2\u05d3\u05db\u05df \u05d9\u05d5\u05ea\u05e8 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea"}),leagueID:0}),t=Object(u.jsx)(L,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"lock":T?(!function(e){fetch("https://toto-server.herokuapp.com/lockcycle/".concat(e),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("lock cycle",t)})).catch((function(e){return console.log("AdminPage",e)}))}(c.state.showCycle),c.setState({toast:Object(u.jsx)(B,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05e2\u05d5\u05dc - \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05de\u05e8"}),leagueID:0}),t=Object(u.jsx)(L,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}})):(c.setState({toast:Object(u.jsx)(B,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05e7\u05d9\u05d9\u05de\u05d9\u05dd \u05e9\u05d7\u05e7\u05e0\u05d9\u05dd \u05e9\u05d8\u05e8\u05dd \u05e9\u05dc\u05d7\u05d5 \u05d4\u05d9\u05de\u05d5\u05e8 - \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e0\u05e2\u05d5\u05dc \u05d0\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8"}),leagueID:0}),t=Object(u.jsx)(k,{data:c.state,cycleID:c.state.showCycle,onSelect:function(e){c.switchTab(e)}}));break;case"unlock":c.setState({toast:Object(u.jsx)(B,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05e0\u05e2\u05d9\u05dc\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05d1\u05d5\u05d8\u05dc\u05d4"}),leagueID:0}),function(e){var t="https://toto-server.herokuapp.com/unlockcycle/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response unlockcycle",e),e.json()})).then((function(e){console.log("response unlockcycle",e)})).catch((function(e){return console.log("unlockcycle",e)}))}(c.state.showCycle),t=Object(u.jsx)(L,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"unclose":!function(e){var t="https://toto-server.herokuapp.com/unclosecycle/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response unclosecycle",e),e.json()})).then((function(e){console.log("response unclosecycle",e)})).catch((function(e){return console.log("unclosecycle",e)}))}(c.state.showCycle),c.setState({toast:Object(u.jsx)(B,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05e4\u05ea\u05d7 \u05dc\u05e2\u05d3\u05db\u05d5\u05df \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05de\u05e9\u05d7\u05e7\u05d9\u05dd"}),leagueID:0}),t=Object(u.jsx)(L,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"scoreUpdate":c.setState({toast:Object(u.jsx)(B,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05e0\u05d5"}),leagueID:0}),t=Object(u.jsx)(L,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;default:c.setState({showCycle:e}),t=Object(u.jsx)(k,{data:c.state,cycleID:parseInt(e),onSelect:function(e){c.switchTab(e)}})}c.setState({table:t})},c.state={leagueID:0,leagueName:"",cyclesIDs:[],membersIDs:[],membersNames:[],membersScores:[],currentCycle:0,cyclesDB:0,showCycle:0,table:0,toast:Object(u.jsx)("p",{}),refresh:!1},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;0!==this.props.leagueID&&0===this.state.leagueID&&this.fullLeagueData();var t=this.state.table;0===t&&0!==this.state.leagueID&&this.switchTab(this.state.current_cycle);var a=this.state.toast,c=this.state.cyclesDB,s=0;return Array.isArray(c)&&this.state.showCycle>0&&(s=c.find((function(t){return t.cycleid===parseInt(e.state.showCycle)}))),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{}),Object(u.jsxs)("h1",{children:[" \u05dc\u05d9\u05d2\u05ea  ",this.state.leagueName," - \u05e2\u05de\u05d5\u05d3 \u05e0\u05d9\u05d4\u05d5\u05dc "]}),a,Object(u.jsx)(S,{onSelect:function(t){e.switchTab(t)},cycles:this.state.cyclesIDs,cycleID:this.state.showCycle,cycleData:s}),t]})}}]),a}(s.a.Component);s.a.Component;function _(e){var t=e.cycles;return t.sort((function(e,t){return t-e})),Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},children:[Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{onClick:function(){e.onClick()},children:" \u05d4\u05ea\u05e0\u05ea\u05e7 "})}),Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:"profile",children:" \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc "})}),Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:"news",children:" \u05e2\u05d3\u05db\u05d5\u05e0\u05d9\u05dd "})}),Object(u.jsxs)(j.a.Item,{className:"secondNavItem",children:[Object(u.jsxs)(j.a.Link,{eventKey:e.currentCycle,children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-t.indexOf(parseInt(e.currentCycle))," "]}),Object(u.jsx)(d.a,{id:"nav-dropdown",className:"inlineDropmenu",children:t.map((function(e,a){return Object(u.jsxs)(d.a.Item,{eventKey:e,children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-a]},a)}))})]}),Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:"league",children:" \u05d8\u05d1\u05dc\u05ea \u05dc\u05d9\u05d2\u05d4 "})})]})})}var G=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).getUserData=function(){fetch("https://toto-server.herokuapp.com/home/user/".concat(c.props.userID),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e[0];c.setState({userID:t.userid,userName:t.username,isAdmin:t.is_admin,image:t.image,currentLeagueID:t.leagueData.leagueid,leagueName:t.leagueData.leaguename,membersIDs:t.leagueData.members_ids,membersNames:t.leagueData.members_names,cyclesIDs:t.leagueData.cycles_ids,membersScores:t.leagueData.members_scores_league,currentCycle:t.leagueData.current_cycle_id,showCycle:t.leagueData.current_cycle_id}),console.log("home data",t,c.state)})).catch((function(e){return console.log("home",e)}))},c.switchTab=function(e){var t;switch(console.log("switchTab",e),e){case"profile":t=Object(u.jsx)("p",{children:"profile"});break;case"league":t=Object(u.jsx)("p",{children:"league"});break;case"news":t=Object(u.jsx)("p",{children:"news"});break;default:c.setState({showCycle:e}),t=Object(u.jsxs)("p",{children:["cycle ",c.state.showCycle]})}c.setState({navBar:t})},c.state={navBar:Object(u.jsx)("p",{children:"league"}),userID:0,userName:"",isAdmin:0,image:"",currentLeagueID:0,leagueName:"",membersIDs:[],membersNames:[],cyclesIDs:[],membersScores:[],currentCycle:0,showCycle:0,cyclesDB:0},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return 0!==this.props.userID&&0===this.state.userID&&this.getUserData(),0!==this.state.isAdmin?Object(u.jsx)(A,{leagueID:this.state.currentLeagueID}):Object(u.jsxs)("div",{children:[Object(u.jsx)(_,{onClick:function(){e.props.logOut()},onSelect:function(t){e.switchTab(t)},cycles:this.state.cyclesIDs,currentCycle:this.state.showCycle}),this.state.navBar]})}}]),a}(s.a.Component),K=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).onUsernameChange=function(e){c.setState({username:e.target.value})},c.onPasswordChange=function(e){c.setState({password:e.target.value})},c.onSubmitSignin=function(){if(""!==c.state.signinEmail)return fetch("https://toto-server.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c.state.username,password:c.state.password})}).then((function(e){return e.json()})).then((function(e){var t=parseInt(e);console.log("signin",t),c.props.validLogin(t)})).catch((function(e){return console.log("signin",e)}))},c.state={username:"",password:"",badSubmition:!1},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{children:Object(u.jsxs)(f.a,{className:"signinForm",children:[Object(u.jsxs)(f.a.Group,{children:[Object(u.jsx)(f.a.Label,{children:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"}),Object(u.jsx)("p",{}),Object(u.jsx)(f.a.Control,{type:"text",placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",autoComplete:"username",onChange:this.onUsernameChange})]}),Object(u.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(f.a.Label,{children:"\u05e1\u05d9\u05e1\u05de\u05d0"}),Object(u.jsx)("p",{}),Object(u.jsx)(f.a.Control,{type:"password",placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0",autoComplete:"current-password",onChange:this.onPasswordChange})]}),Object(u.jsx)(f.a.Group,{children:Object(u.jsx)(y.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),e.onSubmitSignin()},children:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"})})]})})}}]),a}(s.a.Component),P=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).state={userID:0},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return 0!==this.state.userID?Object(u.jsx)(G,{userID:this.state.userID,logOut:function(){e.setState({userID:0})}}):Object(u.jsx)(K,{validLogin:function(t){e.setState({userID:t})}})}}]),a}(s.a.Component),F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root")),F()}},[[67,1,2]]]);
//# sourceMappingURL=main.8aaa91be.chunk.js.map