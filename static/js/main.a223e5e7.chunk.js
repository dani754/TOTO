(this["webpackJsonptoto-production"]=this["webpackJsonptoto-production"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},63:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(23),r=a.n(n),o=(a(63),a(9)),i=a(10),l=a(12),h=a(11),j=a(20),d=a(73),u=(a(13),a(14),a(0));function b(e){var t=e.cycles;return t.sort((function(e,t){return t-e})),Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},className:"secondNav",children:[Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsxs)(j.a.Link,{eventKey:"CycleBets",children:["\u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd \u05dc\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-t.indexOf(parseInt(e.betID))," "]})}),Object(u.jsx)(d.a,{title:"\u05d4\u05d7\u05dc\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8",id:"nav-dropdown",className:"secondNavItem",children:t.map((function(e,a){return Object(u.jsxs)(d.a.Item,{eventKey:e+1e6,children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-a]},a)}))}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsxs)(j.a.Link,{eventKey:"CycleTable",children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-t.indexOf(parseInt(e.cycleID))," "]})}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"LeagueTable",children:"\u05d8\u05d1\u05dc\u05ea \u05d4\u05dc\u05d9\u05d2\u05d4"})})]})})}var m=a(19),g=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).cycleData=function(e){fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var t=e;s.setState({cycleID:t.cycleid,cycleData:t}),console.log("state cycle",s.state)})).catch((function(e){return console.log(e)}))},s.sortByTotalScore=function(){var e=s.state.table;e.sort((function(e,t){return t.totalScore-e.totalScore})),console.log("new sort array",e),s.setState({table:e})},s.sortByCycleScore=function(){var e=s.state.table;e.sort((function(e,t){return t.currentCycleScore-e.currentCycleScore})),console.log("new sort array",e),s.setState({table:e})},s.state={table:[{userName:"await",totalScore:1,currentCycleScore:1,originIndex:0}],cycleID:0},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this;if(0!==this.props.data.current_cycle){var t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.data.current_cycle);this.state.cycleID!==this.props.data.current_cycle&&this.cycleData(t)}if(Array.isArray(this.props.data.names_array)&&"await"===this.state.table[0].userName&&0!==this.state.cycleID){var a=this.props.data.names_array.map((function(t,a){return{index:a,userName:t,totalScore:e.props.data.scores_array[a],currentCycleScore:e.state.cycleData.membersscores[a]}}));this.setState({table:a})}return Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{type:"button",className:"sortButton",onClick:function(){return e.sortByCycleScore()},children:"\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05d5\u05db\u05d7\u05d9"}),Object(u.jsx)("th",{type:"button",className:"sortButton",onClick:function(){return e.sortByTotalScore()},children:"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea"}),Object(u.jsx)("th",{children:"\u05e9\u05dd"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:this.state.table.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.currentCycleScore}),Object(u.jsx)("td",{children:e.totalScore}),Object(u.jsx)("td",{children:e.userName}),Object(u.jsx)("td",{children:t+1})]})}))})]})})}}]),a}(c.a.Component),O=a(58),p=a(57),x=a(15),y=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).cycleData=function(e){fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var t=e;s.setState({cycleID:t.cycleid,gamesIDs:t.gamesids,cycleOrderInLeague:t.cycleorderinleague,isLocked:t.islocked,membersScores:t.membersscores,gamesDB:t.gamesDB}),console.log("state cycle",s.state)})).catch((function(e){return console.log(e)}))},s.setTable=function(){var e=[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:s.props.cycleID,bets:[0]}];Array.isArray(s.state.gamesDB)&&s.state.gamesDB.length>0&&(e=s.state.gamesDB.map((function(e){var t="\u05d8\u05e8\u05dd \u05e0\u05e7\u05d1\u05e2";return e.score>0&&(t=e.score),3===t&&(t="x"),{hometeam:e.hometeam,awayteam:e.awayteam,score:t,cycleid:e.cycleid,bets:e.membersbets}}))),s.setState({table:e}),console.log("new table",s.state.table)},s.state={cycleID:0,gamesIDs:[],cycleOrderInLeague:0,isLocked:!0,membersScores:[],gamesDB:[],table:[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:0,bets:[0]}]},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.cycleID);this.state.cycleID!==this.props.cycleID&&this.cycleData(t);var a=this.state.table;return a[0].cycleid!==this.state.cycleID&&0!==this.state.cycleID&&this.setTable(),this.state.isLocked?Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:a.map((function(t,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)(O.a,{className:"OverlayTrigger",placement:"left",overlay:Object(u.jsx)(p.a,{id:"tooltip-left",children:Object(u.jsxs)(m.a,{className:"tooltipTable",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Bet"})]})}),Object(u.jsx)("tbody",{children:t.bets.map((function(t,a){var s=t;return 3===t&&(s="x"),Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("td",{children:e.props.data.names_array[a]}),Object(u.jsx)("td",{children:s})]},a)}))})]})}),children:Object(u.jsx)(x.a,{className:"invisibleButton",children:t.score})})}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)}))})]})}):Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:a.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.score}),Object(u.jsx)("td",{children:e.awayteam}),Object(u.jsx)("td",{children:e.hometeam}),Object(u.jsx)("td",{children:t+1})]},t)}))})]})})}}]),a}(c.a.Component),f=a(53),v=a(6),I=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).cycleData=function(e){var t=s.props.data.membersids.indexOf(s.props.userID);fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var a=e;s.setState({cycleID:a.cycleid,gamesIDs:a.gamesids,cycleOrderInLeague:a.cycleorderinleague,isLocked:a.islocked,membersScores:a.membersscores,gamesDB:a.gamesDB,userIndex:t}),console.log("state bets cycle",s.state)})).catch((function(e){return console.log(e)}))},s.setTable=function(){var e=[{gameid:1,hometeam:"await",awayteam:"await",score:"await",userBet:"await",cycleid:parseInt(s.props.cycleID)}];Array.isArray(s.state.gamesDB)&&s.state.gamesDB.length>0&&(e=s.state.gamesDB.map((function(e){var t="await";s.state.isLocked&&(e.score>0&&(t=e.score),3===t&&(t="x"));var a="await";return Array.isArray(e.membersbets)&&0!==e.membersbets[s.state.userIndex]&&(a=s.state.isLocked&&3===e.membersbets[s.state.userIndex]?"x":e.membersbets[s.state.userIndex]),{hometeam:e.hometeam,awayteam:e.awayteam,score:t,userBet:a,cycleid:e.cycleid,gameID:e.gameid}}))),s.setState({table:e})},s.handleChange=function(e,t){var a=s.state.table;a[t].userBet=e.target.value,s.setState({table:a})},s.handleSubmit=function(){if(s.state.table[0].cycleid===s.state.cycleID&&Array.isArray(s.state.gamesDB)&&s.state.gamesDB.length>0)return fetch("https://toto-server.herokuapp.com/updatebets",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIndex:s.state.userIndex,gamesTable:s.state.table})}).then((function(e){return console.log("updatebets res",e),e.json()})).then((function(e){return console.log("updatebets",e),s.props.onSubmit(s.state.table)})).catch((function(e){return console.log("updatebets",e)}))},s.state={cycleID:0,gamesIDs:[],cycleOrderInLeague:0,isLocked:!0,membersScores:[],gamesDB:[],table:[{gameid:1,hometeam:"await",awayteam:"await",score:"await",userBet:0,cycleid:0}],userIndex:0},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.cycleID);parseInt(this.state.cycleID)!==parseInt(this.props.cycleID)&&this.cycleData(t);var a=this.state.table;return a[0].cycleid!==this.state.cycleID&&0!==this.state.cycleID&&this.setTable(),this.state.isLocked||"await"===a[0].hometeam?Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"tr5column",children:[Object(u.jsx)("th",{children:"\u05d4\u05d9\u05de\u05d5\u05e8"}),Object(u.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:a.map((function(e,t){return Object(u.jsxs)("tr",{className:"tr5column",children:[Object(u.jsx)("td",{children:e.userBet}),Object(u.jsx)("td",{children:e.score}),Object(u.jsx)("td",{children:e.awayteam}),Object(u.jsx)("td",{children:e.hometeam}),Object(u.jsx)("td",{children:t+1})]},t)}))})]})}):(console.log("table bets",this.state.table),Object(u.jsx)("div",{children:Object(u.jsx)(v.a,{onSubmit:function(t){t.preventDefault(),e.handleSubmit()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u05d4\u05d9\u05de\u05d5\u05e8"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:a.map((function(t,a){var s;return Object(u.jsxs)("tr",{className:"hebrew",children:[Object(u.jsx)("td",(s={className:"hebrew"},Object(f.a)(s,"className","bet"),Object(f.a)(s,"children",Object(u.jsx)(v.a.Group,{className:"bet",children:Object(u.jsxs)(v.a.Control,{className:"bet",as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.userBet,children:[Object(u.jsx)("option",{value:"0",className:"hebrew",children:"\u05de\u05de\u05ea\u05d9\u05df"}),Object(u.jsx)("option",{value:"1",className:"hebrew",children:"1"}),Object(u.jsx)("option",{value:"2",className:"hebrew",children:"2"}),Object(u.jsx)("option",{value:"3",className:"hebrew",children:"x"})]},a)})),s)),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)}))}),Object(u.jsx)(x.a,{size:"lg",style:{color:"black"},type:"submit",children:"\u05e9\u05de\u05d5\u05e8 \u05d4\u05d9\u05de\u05d5\u05e8"})]})})}))}}]),a}(c.a.Component),w=a(25),D=a(24),C=a(22),S=a(17);function k(e){var t=Object(s.useState)(e.show),a=Object(w.a)(t,2),c=a[0],n=a[1],r="\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4";return e.complete||(r="\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df! \u05e9\u05d9\u05dd \u05dc\u05d1, \u05e7\u05d9\u05d9\u05de\u05d9\u05dd \u05de\u05e9\u05d7\u05e7\u05d9\u05dd \u05e9\u05d8\u05e8\u05dd \u05d4\u05d9\u05de\u05e8\u05ea \u05e2\u05dc\u05d9\u05d4\u05dd"),Object(u.jsx)(D.a,{children:Object(u.jsx)(C.a,{xs:6,children:Object(u.jsx)(S.a,{onClose:function(){return n(!1)},show:c,delay:4e3,autohide:!0,children:Object(u.jsxs)(S.a.Header,{children:[Object(u.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(u.jsx)("strong",{className:"mr-auto",children:r})]})})})})}var N=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).leagueData=function(e){fetch(e,{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("league data",t),s.setState({data:t,leagueID:t.leagueid,leagueName:t.leaguename,cyclesIDs:t.cyclesids,membersIDs:t.membersids,currentCycleTable:t.current_cycle,currentBetsCycle:t.cyclesids[t.cyclesids.length-1],table:0})})).catch((function(e){return console.log("LeaguePage",e)}))},s.checkBets=function(e){for(var t=!0,a=0;a<e.length;a++)e[a].userBet>=1&&e[a].userBet<=3||"x"===e[a].userBet||(t=!1);s.setState({toast:Object(u.jsx)(k,{show:!0,complete:t})})},s.switchTab=function(e){var t;switch(e){case"LeagueTable":t=Object(u.jsx)(g,{data:s.state.data});break;case"CycleTable":t=Object(u.jsx)(y,{data:s.state.data,cycleID:s.state.currentCycleTable});break;case"CycleBets":t=Object(u.jsx)(I,{data:s.state.data,userID:s.props.userID,cycleID:s.state.currentBetsCycle,onSubmit:function(e){s.switchTab("LeagueTable"),s.checkBets(e)}});break;default:e-1e6>0?(s.setState({currentCycleTable:e-1e6}),t=Object(u.jsx)(y,{data:s.state.data,cycleID:e-1e6})):(s.setState({currentBetsCycle:e}),t=Object(u.jsx)(I,{data:s.state.data,cycleID:e,userID:s.props.userID,onSubmit:function(e){s.switchTab(e)}}))}s.setState({table:t})},s.state={table:0,data:{},leagueID:0,leagueName:"",cyclesIDs:[],membersIDs:[],userIndex:0,leagues:s.props.leagues,currentCycleTable:0,currentBetsCycle:0,toast:Object(u.jsx)("p",{})},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this;if(0!==this.props.leagueID){var t="https://toto-server.herokuapp.com/home/league/".concat(this.props.leagueID);this.state.leagueID!==this.props.leagueID&&this.leagueData(t)}var a=this.state.table;0===a&&0!==this.state.leagueID&&this.switchTab("LeagueTable");var s=this.state.toast;return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{}),Object(u.jsxs)("h1",{className:"hebrew",children:[" \u05e9\u05dc\u05d5\u05dd ",this.props.userName," ! \u05d1\u05e8\u05d5\u05db\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd \u05dc\u05dc\u05d9\u05d2\u05ea ",this.state.leagueName," "]}),s,Object(u.jsx)(b,{onSelect:function(t){e.switchTab(t)},leagues:this.state.leagues,cycles:this.state.cyclesIDs,leagueID:this.state.leagueID,cycleID:this.state.currentCycleTable,betID:this.state.currentBetsCycle}),Object(u.jsx)("p",{}),a]})}}]),a}(c.a.Component);function L(e){var t=e.cycles;t.sort((function(e,t){return t-e}));var a=Object(u.jsx)(u.Fragment,{});return e.cycleID>0&&(a=Object(u.jsxs)(d.a,{id:"nav-dropdown",title:"edit cycle",className:"secondNavItem",children:[Object(u.jsx)(d.a.Item,{eventKey:"lock",children:"lock cycle (no more bets) "}),Object(u.jsx)(d.a.Item,{eventKey:"close",children:"close cycle (no more scores updates) "})]})),Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},children:[Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsxs)(j.a.Link,{eventKey:e.cycleID,children:["Cycle ",t.length-t.indexOf(parseInt(e.cycleID))," "]})}),a,Object(u.jsxs)(d.a,{id:"nav-dropdown",title:"switch cycle",className:"secondNavItem",children:[t.map((function(e,a){return Object(u.jsxs)(d.a.Item,{eventKey:e,children:["cycle ",t.length-a]},a)})),Object(u.jsx)(d.a.Divider,{}),Object(u.jsx)(d.a.Item,{eventKey:"addCycle",children:" add a new cycle "})]}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"LeagueData",children:"League Data"})})]})})}var T=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).cycleData=function(e){fetch(e,{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){var t=e;s.setState({cycleID:t.cycleid,gamesIDs:t.gamesids,cycleOrderInLeague:t.cycleorderinleague,isLocked:t.islocked,isClosed:t.isclosed,membersScores:t.membersscores,gamesDB:t.gamesDB}),console.log("state admin cycle",s.state)})).catch((function(e){return console.log(e)}))},s.setTable=function(){var e=[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:s.props.cycleID}];Array.isArray(s.state.gamesDB)&&s.state.gamesDB.length>0&&(e=s.state.gamesDB.map((function(e){return{hometeam:e.hometeam,awayteam:e.awayteam,score:e.score,newScore:e.score,cycleid:e.cycleid,gameID:e.gameid}}))),s.setState({table:e})},s.handleChange=function(e,t){var a=s.state.table;a[t].newScore=e.target.value,console.log("newCycleScore",a),s.setState({table:a})},s.updateScores=function(){console.log("updateScores",s.state),s.state.table[0].cycleid===s.state.cycleID&&Array.isArray(s.state.gamesDB)&&s.state.gamesDB.length>0&&fetch("https://toto-server.herokuapp.com/updatescores",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({gamesTable:s.state.table,cycleID:s.state.cycleID})}).then((function(e){return e.json()})).then((function(e){console.log("response updatescores",e),s.props.onSubmit()})).catch((function(e){return console.log("updatescores",e)}))},s.addGame=function(){console.log("addGame",s.state,s.props),""!==s.state.hometeam&&""!==s.state.awayteam&&fetch("https://toto-server.herokuapp.com/addgame",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({hometeam:s.state.hometeam,awayteam:s.state.awayteam,cycleID:s.state.cycleID,leagueID:s.props.data.leagueID,leagueSize:s.props.data.membersIDs.length,firstGame:"await"===s.state.table[0].hometeam})}).then((function(e){return e.json()})).then((function(e){console.log("response addGame",e),s.props.onSubmit()})).catch((function(e){return console.log("addGame",e)}))},s.deleteGame=function(e){console.log("delete game",e);var t="https://toto-server.herokuapp.com/deletegame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response deletegame",e),e.json()})).then((function(e){console.log("response deletegame",e)})).catch((function(e){return console.log("deletegame",e)}))},s.state={cycleID:0,gamesIDs:[],cycleOrderInLeague:0,isLocked:!0,isClosed:!0,membersScores:[],gamesDB:[],table:[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:0}],hometeam:"",awayteam:""},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="https://toto-server.herokuapp.com/home/cycle/".concat(this.props.cycleID);parseInt(this.state.cycleID)!==parseInt(this.props.cycleID)&&this.cycleData(t);var a=this.state.table;return a[0].cycleid!==this.state.cycleID&&0!==this.state.cycleID&&this.setTable(),this.state.isClosed?Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Home Team"}),Object(u.jsx)("th",{children:"Away Team"}),Object(u.jsx)("th",{children:"Score"})]})}),Object(u.jsx)("tbody",{children:a.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t+1}),Object(u.jsx)("td",{children:e.hometeam}),Object(u.jsx)("td",{children:e.awayteam}),Object(u.jsx)("td",{children:e.score})]},t)}))})]})}):this.state.isLocked?Object(u.jsx)("div",{children:Object(u.jsx)(v.a,{onSubmit:function(){return e.updateScores()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Home Team"}),Object(u.jsx)("th",{children:"Away Team"}),Object(u.jsx)("th",{children:"Score"})]})}),Object(u.jsx)("tbody",{children:a.map((function(t,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:a+1}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:Object(u.jsx)(v.a.Group,{children:Object(u.jsxs)(v.a.Control,{as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.newScore,children:[Object(u.jsx)("option",{value:"0",children:"await"}),Object(u.jsx)("option",{value:"1",children:"1"}),Object(u.jsx)("option",{value:"2",children:"2"}),Object(u.jsx)("option",{value:"3",children:"x"})]},a)})})]},a)}))}),Object(u.jsx)(x.a,{style:{color:"black"},type:"button",onClick:function(){return e.updateScores()},children:"update scores"})]})})}):"await"===this.state.table[0].hometeam?Object(u.jsx)("div",{children:Object(u.jsx)(v.a,{onSubmit:function(){return e.handleSubmit()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Home Team"}),Object(u.jsx)("th",{children:"Away Team"}),Object(u.jsx)("th",{children:"update"})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"*"}),Object(u.jsx)("td",{children:Object(u.jsx)(v.a.Group,{children:Object(u.jsx)(v.a.Control,{type:"text",placeholder:"home team",onChange:function(t){return e.setState({hometeam:t.target.value})},value:this.state.hometeam})})}),Object(u.jsx)("td",{children:Object(u.jsx)(v.a.Group,{children:Object(u.jsx)(v.a.Control,{type:"text",placeholder:"away team",onChange:function(t){return e.setState({awayteam:t.target.value})},value:this.state.awayteam})})}),Object(u.jsxs)("td",{children:[" ",Object(u.jsx)(x.a,{style:{color:"black"},type:"button",onClick:function(){return e.addGame()},children:" add "})," "]})]})})]})})}):Object(u.jsx)("div",{children:Object(u.jsx)(v.a,{onSubmit:function(){return e.handleSubmit()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Home Team"}),Object(u.jsx)("th",{children:"Away Team"}),Object(u.jsx)("th",{children:"update"})]})}),Object(u.jsxs)("tbody",{children:[a.map((function(t,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:a+1}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsxs)("td",{children:[" ",Object(u.jsx)(x.a,{style:{color:"black"},type:"button",onClick:function(){return e.deleteGame(t.gameID)},children:"delete"})," "]})]},a)})),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"*"}),Object(u.jsx)("td",{children:Object(u.jsx)(v.a.Group,{children:Object(u.jsx)(v.a.Control,{type:"text",placeholder:"home team",onChange:function(t){return e.setState({hometeam:t.target.value})},value:this.state.hometeam})})}),Object(u.jsx)("td",{children:Object(u.jsx)(v.a.Group,{children:Object(u.jsx)(v.a.Control,{type:"text",placeholder:"away team",onChange:function(t){return e.setState({awayteam:t.target.value})},value:this.state.awayteam})})}),Object(u.jsxs)("td",{children:[" ",Object(u.jsx)(x.a,{style:{color:"black"},type:"button",onClick:function(){return e.addGame()},children:" add "})," "]})]})]})]})})})}}]),a}(c.a.Component),B=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"League Data"}),Object(u.jsx)("h1",{children:"members in league"}),Object(u.jsx)("h1",{children:"cycles list"}),Object(u.jsx)("h1",{children:"more info"})]})}}]),a}(c.a.Component);function A(e){var t=Object(s.useState)(e.show),a=Object(w.a)(t,2),c=a[0],n=a[1];return Object(u.jsx)(D.a,{children:Object(u.jsx)(C.a,{xs:6,children:Object(u.jsxs)(S.a,{onClose:function(){return n(!1)},show:c,delay:4e3,autohide:!0,children:[Object(u.jsxs)(S.a.Header,{children:[Object(u.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(u.jsx)("strong",{className:"mr-auto",children:"A NEW CYCLE IS OPEN!"})]}),Object(u.jsx)(S.a.Body,{children:"start adding games..."})]})})})}function P(e){var t=Object(s.useState)(e.show),a=Object(w.a)(t,2),c=a[0],n=a[1];return Object(u.jsx)(D.a,{children:Object(u.jsx)(C.a,{xs:6,children:Object(u.jsxs)(S.a,{onClose:function(){return n(!1)},show:c,delay:4e3,autohide:!0,children:[Object(u.jsxs)(S.a.Header,{children:[Object(u.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(u.jsx)("strong",{className:"mr-auto",children:"NO MORE CHANGES!"})]}),Object(u.jsx)(S.a.Body,{children:"This cycle is now closed for updates"})]})})})}function G(e){var t=Object(s.useState)(e.show),a=Object(w.a)(t,2),c=a[0],n=a[1];return Object(u.jsx)(D.a,{children:Object(u.jsx)(C.a,{xs:6,children:Object(u.jsxs)(S.a,{onClose:function(){return n(!1)},show:c,delay:4e3,autohide:!0,children:[Object(u.jsxs)(S.a.Header,{children:[Object(u.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(u.jsx)("strong",{className:"mr-auto",children:"NO MORE BETS!"})]}),Object(u.jsx)(S.a.Body,{children:"This cycle is now locked"})]})})})}var E=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).leagueData=function(e){fetch(e,{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("league data in admin page",t),s.setState({leagueID:t.leagueid,leagueName:t.leaguename,cyclesIDs:t.cyclesids,membersIDs:t.membersids,names_array:t.names_array,scores_array:t.scores_array,current_cycle:t.current_cycle,table:0})})).catch((function(e){return console.log("AdminPage",e)}))},s.addCycle=function(e){fetch("https://toto-server.herokuapp.com/addcycle/".concat(e),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("add cycle",t)})).catch((function(e){return console.log("AdminPage",e)}))},s.closeCycle=function(e){fetch("https://toto-server.herokuapp.com/closecycle/".concat(e),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("close cycle",t)})).catch((function(e){return console.log("AdminPage",e)}))},s.lockCycle=function(e){fetch("https://toto-server.herokuapp.com/lockcycle/".concat(e),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("lock cycle",t)})).catch((function(e){return console.log("AdminPage",e)}))},s.switchTab=function(e){var t;switch(e){case"LeagueData":s.setState({showCycle:0}),t=Object(u.jsx)(B,{data:s.state});break;case"addCycle":s.setState({toast:Object(u.jsx)(A,{show:!0})}),s.addCycle(s.state.leagueID),t=Object(u.jsx)(B,{data:s.state});break;case"close":s.setState({toast:Object(u.jsx)(P,{show:!0})}),s.closeCycle(s.state.showCycle),t=Object(u.jsx)(B,{data:s.state});break;case"lock":s.setState({toast:Object(u.jsx)(G,{show:!0})}),s.lockCycle(s.state.showCycle),t=Object(u.jsx)(B,{data:s.state});break;default:s.setState({showCycle:e}),t=Object(u.jsx)(T,{data:s.state,cycleID:parseInt(e),onSubmit:function(){return s.setState({leagueID:0})}})}s.setState({table:t})},s.state={leagueID:0,leagueName:"",cyclesIDs:[],membersIDs:[],names_array:[],scores_array:[],current_cycle:0,showCycle:0,table:0,toast:Object(u.jsx)("p",{})},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this;if(0!==this.props.leagueID){var t="https://toto-server.herokuapp.com/home/league/".concat(this.props.leagueID);0===this.state.leagueID&&this.leagueData(t)}var a=this.state.table;0===a&&0!==this.state.leagueID&&this.switchTab(this.state.current_cycle);var s=this.state.toast;return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{}),Object(u.jsxs)("h1",{children:[" League ",this.state.leagueName," - Admin Page "]}),s,Object(u.jsx)(L,{onSelect:function(t){e.switchTab(t)},cycles:this.state.cyclesIDs,cycleID:this.state.showCycle}),Object(u.jsx)("p",{}),a]})}}]),a}(c.a.Component),K=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Profile Page - under construction"})})}}]),a}(c.a.Component),_=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).onLeagueNameChange=function(e){s.setState({leagueName:e.target.value})},s.onLeagueIdChange=function(e){s.setState({leagueID:e.target.value})},s.JoinLeague=function(){fetch("https://toto-server.herokuapp.com/joinLeague",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueName:s.state.leagueName,leagueID:s.state.leagueID,userID:s.props.userID,userName:s.props.username})}).then((function(e){return e.json()})).then((function(e){var t=e[e.length-1];console.log("join league",t),s.props.onJoining(t)})).catch((function(e){return console.log("join",e)}))},s.state={leagueName:"",leagueID:0,badSubmition:!1},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=Object(u.jsx)(u.Fragment,{});return 0===this.props.isAdmin&&(t=Object(u.jsxs)(v.a.Group,{children:["OR... \xa0\xa0\xa0",Object(u.jsx)(x.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),e.props.createLeague()},children:"Create new League as Admin"})]})),Object(u.jsx)("div",{children:Object(u.jsxs)(v.a,{className:"joinForm",children:[Object(u.jsxs)(v.a.Group,{controlId:"text",children:[Object(u.jsx)(v.a.Label,{children:"League Name"}),Object(u.jsx)(v.a.Control,{type:"text",placeholder:"Enter league name",onChange:this.onLeagueNameChange})]}),Object(u.jsxs)(v.a.Group,{controlId:"text",children:[Object(u.jsx)(v.a.Label,{children:"League ID"}),Object(u.jsx)(v.a.Control,{type:"text",placeholder:"Enter league ID number",onChange:this.onLeagueIdChange})]}),Object(u.jsx)(v.a.Group,{children:Object(u.jsx)(x.a,{variant:"primary",type:"submit",size:"lg",onClick:function(){return e.JoinLeague()},children:"Join League"})}),t]})})}}]),a}(c.a.Component),J=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).onNameChange=function(e){s.setState({leagueName:e.target.value})},s.onScoreMethodChange=function(e){s.setState({scoringMethod:e.target.value})},s.onSubmition=function(){console.log("create league",s.state),""!==s.state.leagueName&&fetch("https://toto-server.herokuapp.com/createleague",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueName:s.state.leagueName,scoringMethod:s.state.scoringMethod,userID:s.props.userID,userName:s.props.userName})}).then((function(e){console.log(e),e.json()})).then((function(e){console.log("new league",e),s.props.newLeague()})).catch((function(e){return console.log("create league",e)}))},s.state={leagueName:"",scoringMethod:1,badSubmition:!1},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="League Name",a="Scoring method",s="Create new league as admin";return"hebrew"===this.props.language&&(t="\u05e9\u05dd \u05d4\u05dc\u05d9\u05d2\u05d4",a="\u05e9\u05d9\u05d8\u05ea \u05e0\u05d9\u05e7\u05d5\u05d3",s="\u05e6\u05d5\u05e8 \u05dc\u05d9\u05d2\u05d4 \u05d7\u05d3\u05e9\u05d4 \u05db\u05de\u05e0\u05d4\u05dc \u05dc\u05d9\u05d2\u05d4"),console.log("inside create league",this.state),Object(u.jsx)("div",{children:Object(u.jsxs)(v.a,{className:"signinForm",children:[Object(u.jsxs)(v.a.Group,{children:[Object(u.jsx)(v.a.Label,{children:t}),Object(u.jsx)("p",{}),Object(u.jsx)(v.a.Control,{type:"text",placeholder:"League Name",onChange:this.onNameChange})]}),Object(u.jsxs)(v.a.Group,{children:[Object(u.jsx)(v.a.Label,{children:a}),Object(u.jsx)("p",{}),Object(u.jsxs)(v.a.Control,{as:"select",size:"sm",onChange:function(t){return e.onScoreMethodChange(t)},value:this.state.scoringMethod,children:[Object(u.jsx)("option",{value:"1",children:"The simple method: 1 point for each correct guess (1, 2 or x)"}),Object(u.jsx)("option",{value:"2",children:"The simple method with an option for bonus games (2 points)"})]})]}),Object(u.jsx)(v.a.Group,{children:Object(u.jsx)(x.a,{type:"submit",onClick:function(t){e.onSubmition()},children:s})})]})})}}]),a}(c.a.Component);function H(e){var t=Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:"adminPage",children:" \u05d3\u05e3 \u05e0\u05d9\u05d4\u05d5\u05dc \u05dc\u05d9\u05d2\u05d4 "})}),a=Object(u.jsx)(u.Fragment,{});return 0===e.isAdmin&&(t=Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{disable:!0,children:"  "})}),a=Object(u.jsx)(d.a.Item,{eventKey:"create",children:" \u05e4\u05ea\u05d7 \u05dc\u05d9\u05d2\u05d4 \u05d7\u05d3\u05e9\u05d4 \u05db\u05d0\u05d3\u05de\u05d9\u05df "})),Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},children:[Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:e.leagueID,children:" \u05e2\u05de\u05d5\u05d3 \u05d1\u05d9\u05ea "})}),Object(u.jsxs)(d.a,{title:"\u05d4\u05d7\u05dc\u05e3 \u05dc\u05d9\u05d2\u05d4",id:"nav-dropdown",children:[e.leagues.map((function(e,t){return Object(u.jsxs)(d.a.Item,{eventKey:e,children:["\u05dc\u05d9\u05d2\u05d4 ",e]},t)})),Object(u.jsx)(d.a.Divider,{}),Object(u.jsx)(d.a.Item,{eventKey:"join",children:" \u05d4\u05e6\u05d8\u05e8\u05e3 \u05dc\u05dc\u05d9\u05d2\u05d4 \u05e7\u05d9\u05d9\u05de\u05ea"}),a]}),Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:"profilePage",children:" \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc (\u05d1\u05d4\u05db\u05e0\u05d4) "})}),t,Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{onClick:function(){e.onClick()},children:"\u05d4\u05ea\u05e0\u05ea\u05e7  "})})]})})}var F=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).userData=function(e){fetch(e,{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e[0];s.setState({userID:t.userid,userName:t.username,defaultLeague:t.defaultleague,isAdmin:t.isadmin,leagues:t.leagues}),console.log("home data",t,s.state)})).catch((function(e){return console.log("home",e)}))},s.switchTab=function(e){var t;switch(console.log("switchTab",e),e){case"profilePage":t=Object(u.jsx)(K,{userID:s.state.userID});break;case"adminPage":t=Object(u.jsx)(E,{leagueID:s.state.isAdmin});break;case"create":t=Object(u.jsx)(J,{userID:s.state.userID,userName:s.state.userName,newLeague:function(){s.setState({userID:0,defaultLeague:0})},language:s.state.language});break;case"join":t=Object(u.jsx)(_,{userID:s.state.userID,username:s.state.userName,onJoining:function(e){s.switchTab(e)},isAdmin:s.state.isAdmin,createLeague:function(){s.switchTab("create")}});break;default:s.setState({currentLeague:parseInt(e)}),t=Object(u.jsx)(N,{userName:s.state.userName,userID:s.state.userID,leagueID:parseInt(e),leagues:s.state.leagues})}s.setState({navBar:t})},s.state={userID:0,userName:"",defaultLeague:0,currentLeague:0,isAdmin:0,leagues:[],navBar:0,language:s.props.language},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="https://toto-server.herokuapp.com/home/user/".concat(this.props.user);if(0!==this.props.user&&0===this.state.userID&&this.userData(t),0===this.state.defaultLeague&&0!==this.state.userID)return Object(u.jsx)(_,{userID:this.state.userID,username:this.state.userName,onJoining:function(){e.userData(t)},isAdmin:this.state.isAdmin,createLeague:function(){console.log("create"),e.switchTab("create")}});var a=this.state.navBar;return 0===a&&0!==this.state.userID&&(0===this.state.currentLeague?this.switchTab(this.state.defaultLeague):this.switchTab(this.state.currentLeague)),Object(u.jsxs)("div",{children:[Object(u.jsx)(H,{onClick:function(){e.props.logOut()},onSelect:function(t){e.switchTab(t)},isAdmin:this.state.isAdmin,leagues:this.state.leagues,leagueID:this.state.currentLeague}),a]})}}]),a}(c.a.Component),R=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).onEmailChange=function(e){s.setState({signinEmail:e.target.value})},s.onPasswordChange=function(e){s.setState({signinPassword:e.target.value})},s.onSubmitSignin=function(){if(""!==s.state.signinEmail)return fetch("https://toto-server.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.state.signinEmail,password:s.state.signinPassword})}).then((function(e){return e.json()})).then((function(e){var t=parseInt(e);console.log("signin",t),s.props.onRegistration(t)})).catch((function(e){return console.log("signin",e)}))},s.state={signinEmail:"",signinPassword:"",badSubmition:!1},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="Email address",a="Password",s="Log In";return"hebrew"===this.props.language&&(t="\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",a="\u05e1\u05d9\u05e1\u05de\u05d0",s="\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),Object(u.jsx)("div",{children:Object(u.jsxs)(v.a,{className:"signinForm",children:[Object(u.jsxs)(v.a.Group,{children:[Object(u.jsx)(v.a.Label,{children:t}),Object(u.jsx)("p",{}),Object(u.jsx)(v.a.Control,{type:"text",placeholder:"Enter email",autocomplete:"username",onChange:this.onEmailChange})]}),Object(u.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(v.a.Label,{children:a}),Object(u.jsx)("p",{}),Object(u.jsx)(v.a.Control,{type:"password",placeholder:"Password",autocomplete:"current-password",onChange:this.onPasswordChange})]}),Object(u.jsx)(v.a.Group,{children:Object(u.jsx)(x.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),e.onSubmitSignin()},children:s})})]})})}}]),a}(c.a.Component),M=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).onEmailChange=function(e){s.setState({newEmail:e.target.value})},s.onUsernameChange=function(e){s.setState({newUserName:e.target.value})},s.onPasswordChange=function(e){s.setState({newPassword:e.target.value})},s.onPasswordAgainChange=function(e){s.setState({passwordAgain:e.target.value})},s.onSubmitRegister=function(){s.state.newPassword===s.state.passwordAgain&&fetch("https://toto-server.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.state.newEmail,username:s.state.newUserName,password:s.state.newPassword})}).then((function(e){return e.json()})).then((function(e){var t=parseInt(e);console.log("register",t),s.props.onRegistration(t)})).catch((function(e){return console.log("register",e)}))},s.state={newEmail:"",newUserName:"",newPassword:"",passwordAgain:"",badSubmition:!1},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="Email address",a="User Name",s="Password",c="Please re-enter Password",n="Register";return"hebrew"===this.props.language&&(t="\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",a="\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 (\u05e6\u05d9\u05d1\u05d5\u05e8\u05d9)",s="\u05e1\u05d9\u05e1\u05de\u05d0",c="\u05d4\u05d6\u05e0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05d1\u05e9\u05e0\u05d9\u05ea",n="\u05d4\u05e8\u05e9\u05de\u05d4"),Object(u.jsx)("div",{children:Object(u.jsxs)(v.a,{className:"registerForm",children:[Object(u.jsxs)(v.a.Group,{children:[Object(u.jsx)(v.a.Label,{children:t}),Object(u.jsx)(v.a.Control,{type:"text",placeholder:"Enter email",autocomplete:"username",onChange:this.onEmailChange})]}),Object(u.jsxs)(v.a.Group,{controlId:"formUsername",children:[Object(u.jsx)(v.a.Label,{children:a}),Object(u.jsx)(v.a.Control,{type:"text",placeholder:"Enter a unique user name (public)",autocomplete:"username",onChange:this.onUsernameChange})]}),Object(u.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(v.a.Label,{children:s}),Object(u.jsx)(v.a.Control,{type:"password",placeholder:"Password",autocomplete:"new-password",onChange:this.onPasswordChange})]}),Object(u.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(v.a.Label,{children:c}),Object(u.jsx)(v.a.Control,{type:"password",placeholder:"Password (again)",autocomplete:"new-password",onChange:this.onPasswordAgainChange})]}),Object(u.jsx)(v.a.Group,{children:Object(u.jsx)(x.a,{variant:"primary",type:"submit",onClick:function(){return e.onSubmitRegister()},children:n})})]})})}}]),a}(c.a.Component),U=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).eventsHandler=function(e){switch(e){case"english":case"hebrew":s.props.changeLanguage(e),s.setState({language:e});break;case"register":s.setState({register:!0});break;case"login":case"about":s.setState({register:!1});break;default:s.setState({register:!1})}},s.state={register:!1,language:s.props.language,userID:0},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=Object(u.jsx)(R,{onRegistration:function(t){return e.setState({userID:t})},language:this.state.language});this.state.register&&(t=Object(u.jsx)(M,{onRegistration:function(t){return e.setState({userID:t})},language:this.state.language})),0!==this.state.userID&&this.props.validLogin(parseInt(this.state.userID));var a="About",s="Register",c="Log In",n="signinPage English";return"hebrew"===this.state.language&&(a="\u05d0\u05d5\u05d3\u05d5\u05ea",s="\u05d4\u05e8\u05e9\u05de\u05d4",c="\u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05d7\u05e9\u05d1\u05d5\u05df",n="signinPage Hebrew"),Object(u.jsxs)("div",{className:n,children:[Object(u.jsxs)(j.a,{onSelect:function(t){return e.eventsHandler(t)},children:[Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:"english",children:"English"})}),Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:"hebrew",children:"\u05e2\u05d1\u05e8\u05d9\u05ea"})}),Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:"about",children:a})}),Object(u.jsx)(j.a.Item,{children:Object(u.jsxs)(j.a.Link,{eventKey:"register",children:[s," "]})}),Object(u.jsx)(j.a.Item,{children:Object(u.jsx)(j.a.Link,{eventKey:"login",children:c})})]}),Object(u.jsx)("div",{}),t,Object(u.jsx)("div",{})]})}}]),a}(c.a.Component),z=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={userID:0,language:"english"},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return 0!==this.state.userID?Object(u.jsx)(F,{user:this.state.userID,logOut:function(){e.setState({userID:0})},language:this.state.language}):Object(u.jsx)(U,{validLogin:function(t){e.setState({userID:t})},changeLanguage:function(t){e.setState({language:t})}})}}]),a}(c.a.Component),q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(z,{})}),document.getElementById("root")),q()}},[[68,1,2]]]);
//# sourceMappingURL=main.a223e5e7.chunk.js.map