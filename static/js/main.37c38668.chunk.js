(this["webpackJsonptoto-production"]=this["webpackJsonptoto-production"]||[]).push([[0],{18:function(e,t,a){},19:function(e,t,a){},62:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(21),r=a.n(n),o=(a(62),a(12)),l=a(13),i=a(15),h=a(14),j=a(74),d=a(73),u=(a(19),a(18),a(0));function b(e){var t=e.cycles;return t.sort((function(e,t){return t-e})),Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},children:[Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{onClick:function(){e.onClick()},className:"navLink",children:" \u05d4\u05ea\u05e0\u05ea\u05e7 "})}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"profile",className:"navLink",children:" \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc "})}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"feed",className:"navLink",children:" \u05e2\u05d3\u05db\u05d5\u05e0\u05d9\u05dd "})}),Object(u.jsxs)(j.a.Item,{className:"secondNavItem",children:[Object(u.jsxs)(j.a.Link,{eventKey:e.currentCycle,className:"navLink",children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-t.indexOf(parseInt(e.currentCycle))," "]}),Object(u.jsx)(d.a,{id:"nav-dropdown",className:"inlineDropmenu",children:t.map((function(e,a){return Object(u.jsxs)(d.a.Item,{className:"navLink",eventKey:e,children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",t.length-a]},a)}))})]}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"league",className:"navLink",children:" \u05d8\u05d1\u05dc\u05ea \u05dc\u05d9\u05d2\u05d4 "})})]})})}var m=a(17),p=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).getCurrentCycleScores=function(e){fetch("https://toto-server.herokuapp.com/home/get-cycle-scores/".concat(e),{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(e){console.log("fetching cycle scores",e),c.setState({currentCycleScores:e})})).catch((function(e){return console.log(e)}))},c.sortByTotalScore=function(){var e=c.state.table;e.sort((function(e,t){return t.totalScore-e.totalScore})),console.log("new sort array",e),c.setState({table:e})},c.sortByCycleScore=function(){var e=c.state.table;e.sort((function(e,t){return t.currentCycleScore-e.currentCycleScore})),console.log("new sort array",e),c.setState({table:e})},c.state={table:[{userName:"await",totalScore:1,currentCycleScore:1,originIndex:0}],currentCycleScores:[]},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;if("await"===this.state.table[0].userName&&0!==this.props.currentCycle){var t=this.props.membersNames;if(0===this.state.currentCycleScores.length)this.getCurrentCycleScores(this.props.currentCycle);else{var a=t.map((function(t,a){return{index:a,userName:t,totalScore:e.props.membersScores[a],currentCycleScore:e.state.currentCycleScores[a]}}));a.sort((function(e,t){return t.totalScore-e.totalScore})),this.setState({table:a})}}return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{}),Object(u.jsxs)("h1",{children:[" \u05e9\u05dc\u05d5\u05dd ",this.props.userName," ! \u05dc\u05dc\u05d9\u05d2\u05ea ",this.props.leagueName," "]}),Object(u.jsx)("p",{}),Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{type:"button",className:"sortButton",onClick:function(){return e.sortByCycleScore()},children:"\u05e0\u05d9\u05e7\u05d5\u05d3 \u05dc\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05d5\u05db\u05d7\u05d9"}),Object(u.jsx)("th",{type:"button",className:"sortButton",onClick:function(){return e.sortByTotalScore()},children:'\u05e1\u05d4"\u05db \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea'}),Object(u.jsx)("th",{children:"\u05e9\u05dd"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:this.state.table.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.currentCycleScore}),Object(u.jsx)("td",{children:e.totalScore}),Object(u.jsx)("td",{children:e.userName}),Object(u.jsx)("td",{children:t+1})]})}))})]})]})}}]),a}(s.a.Component);function O(e){var t=e.cycles;if(t.sort((function(e,t){return t-e})),0!==e.cycleID){var a=Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"lock",children:" \u05e0\u05e2\u05d9\u05dc\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})})});return e.cycleData.islocked&&(a=e.cycleData.isclosed?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"unclose",children:" \u05d1\u05d9\u05d8\u05d5\u05dc \u05e1\u05d2\u05d9\u05e8\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"close",children:" \u05e1\u05d2\u05d9\u05e8\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"unlock",children:" \u05d1\u05d9\u05d8\u05d5\u05dc \u05e0\u05e2\u05d9\u05dc\u05ea \u05de\u05d7\u05d6\u05d5\u05e8 "})})]})),Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},className:"adminNav",children:[Object(u.jsxs)(j.a.Item,{className:"secondNavItem",children:[Object(u.jsxs)(j.a.Link,{eventKey:e.cycleID,children:[" ",t.length-t.indexOf(parseInt(e.cycleID))," \u05de\u05d7\u05d6\u05d5\u05e8 "]}),Object(u.jsxs)(d.a,{id:"nav-dropdown",className:"inlineDropmenu",children:[t.map((function(e,a){return Object(u.jsxs)(d.a.Item,{eventKey:e,children:[" ",t.length-a," \u05de\u05d7\u05d6\u05d5\u05e8"]},a)})),Object(u.jsx)(d.a.Divider,{}),Object(u.jsx)(d.a.Item,{eventKey:"addCycle",children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8 \u05d7\u05d3\u05e9  "})]})]}),a,Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"LeagueData",children:"\u05e2\u05de\u05d5\u05d3 \u05dc\u05d9\u05d2\u05d4"})})]})})}return Object(u.jsx)("div",{children:Object(u.jsxs)(j.a,{onSelect:function(t){return e.onSelect(t)},className:"adminNav",children:[Object(u.jsx)(d.a,{id:"nav-dropdown",className:"secondNavItem",title:"\u05e2\u05d1\u05d5\u05e8 \u05dc\u05de\u05d7\u05d6\u05d5\u05e8",children:t.map((function(e,a){return Object(u.jsxs)(d.a.Item,{eventKey:e,children:[" ",t.length-a," \u05de\u05d7\u05d6\u05d5\u05e8"]},a)}))}),Object(u.jsx)(j.a.Item,{className:"secondNavItem",children:Object(u.jsx)(j.a.Link,{eventKey:"addCycle",children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8 \u05d7\u05d3\u05e9 "})})]})})}var g=a(8),x=a(9),y=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).updateState=function(){c.setState({cycleID:c.props.cycleData.cycleid,gamesIDs:c.props.cycleData.games_ids,cycleOrderInLeague:c.props.cycleData.order_in_league,isLocked:c.props.cycleData.lock_for_bets,isClosed:c.props.cycleData.lock_for_updates,lockingTime:c.props.cycleData.lock_bets_time,gamesDB:c.props.gamesDB})},c.setTable=function(){var e=[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:c.state.cycleID}];Array.isArray(c.state.gamesDB)&&c.state.gamesDB.length>0&&(e=c.state.gamesDB.map((function(e){var t=e.score;return c.state.isClosed&&3===t&&(t="x"),{hometeam:e.home_team,awayteam:e.away_team,score:t,newScore:e.score,cycleid:e.cycleid,gameID:e.gameid,isbonus:e.is_bonus}}))),c.setState({table:e})},c.handleGamesInput=function(e,t,a){if(1===a){var s=c.state.hometeam;s[t]=e.target.value,c.setState({hometeam:s})}else{var n=c.state.awayteam;n[t]=e.target.value,c.setState({awayteam:n})}},c.addGames=function(){for(var e=function(e){""!==c.state.hometeam[e]&&""!==c.state.awayteam[e]&&fetch("https://toto-server.herokuapp.com/addgame",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({hometeam:c.state.hometeam[e],awayteam:c.state.awayteam[e],cycleID:c.state.cycleID,leagueSize:c.props.data.membersIDs.length,isFirst:"await"===c.state.table[0].hometeam})}).then((function(e){return e.json()})).then((function(t){if(e===c.state.gamesToAdd){var a=c.state.table;a[0].cycleid=0,c.setState({cycleID:0,gamesToAdd:0,hometeam:[""],awayteam:[""],table:a})}})).catch((function(e){return console.log("addGame",e)}))},t=0;t<=c.state.gamesToAdd;t++)e(t)},c.deleteGame=function(e){console.log("delete game",e);var t="https://toto-server.herokuapp.com/deletegame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response deletegame",e),e.json()})).then((function(e){var t=c.state.table;t[0].cycleid=0,c.setState({cycleID:0,table:t}),console.log("response deletegame",e)})).catch((function(e){return console.log("deletegame",e)}))},c.markAsBonusGame=function(e){console.log("bunus game",e);var t="https://toto-server.herokuapp.com/bonusgame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response bonusgame",e),e.json()})).then((function(e){var t=c.state.table;t[0].cycleid=0,c.setState({cycleID:0,table:t}),console.log("response bonusgame",e)})).catch((function(e){return console.log("bonusgame",e)}))},c.unmarkAsBonusGame=function(e){console.log("un-bunus game",e);var t="https://toto-server.herokuapp.com/unbonusgame/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response unbonusgame",e),e.json()})).then((function(e){var t=c.state.table;t[0].cycleid=0,c.setState({cycleID:0,table:t}),console.log("response unbonusgame",e)})).catch((function(e){return console.log("unbonusgame",e)}))},c.handleChange=function(e,t){var a=c.state.table;a[t].newScore=parseInt(e.target.value),console.log("newCycleScore",a),c.setState({table:a})},c.updateScores=function(){console.log("updateScores",c.state),c.state.table[0].cycleid===c.state.cycleID&&Array.isArray(c.state.gamesDB)&&c.state.gamesDB.length>0&&fetch("https://toto-server.herokuapp.com/updatescores",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({gamesTable:c.state.table,cycleID:c.state.cycleID})}).then((function(e){return e.json()})).then((function(e){console.log("response updatescores",e),c.props.onSelect("scoreUpdate"),c.setState({cycleID:0})})).catch((function(e){return console.log("updatescores",e)}))},c.state={cycleID:0,gamesIDs:[],cycleOrderInLeague:0,isLocked:!1,isClosed:!1,lockingTime:0,gamesDB:[],table:[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:0}],gamesToAdd:0,hometeam:[""],awayteam:[""]},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;this.state.cycleID!==this.props.cycleData.cycleid&&this.updateState();var t=this.state.table;if(t[0].cycleid!==this.state.cycleID&&0!==this.state.cycleID&&this.setTable(),this.state.isClosed)return Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e,t){return e.isbonus?Object(u.jsxs)("tr",{className:"bonusLineFour",children:[Object(u.jsx)("td",{children:e.score}),Object(u.jsx)("td",{children:e.awayteam}),Object(u.jsx)("td",{children:e.hometeam}),Object(u.jsx)("td",{children:t+1})]},t):Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.score}),Object(u.jsx)("td",{children:e.awayteam}),Object(u.jsx)("td",{children:e.hometeam}),Object(u.jsx)("td",{children:t+1})]},t)}))})]})});if(this.state.isLocked)return Object(u.jsx)("div",{children:Object(u.jsx)(g.a,{onSubmit:function(){return e.updateScores()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:t.map((function(t,a){return t.isbonus?Object(u.jsxs)("tr",{className:"bonusLineFour",children:[Object(u.jsx)("td",{children:Object(u.jsx)(g.a.Group,{children:Object(u.jsxs)(g.a.Control,{as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.newScore,children:[Object(u.jsx)("option",{value:"0",children:"await"}),Object(u.jsx)("option",{value:"1",children:"1"}),Object(u.jsx)("option",{value:"2",children:"2"}),Object(u.jsx)("option",{value:"3",children:"x"})]},a)})}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a):Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)(g.a.Group,{children:Object(u.jsxs)(g.a.Control,{as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.newScore,children:[Object(u.jsx)("option",{value:"0",children:"await"}),Object(u.jsx)("option",{value:"1",children:"1"}),Object(u.jsx)("option",{value:"2",children:"2"}),Object(u.jsx)("option",{value:"3",children:"x"})]},a)})}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)}))}),Object(u.jsx)(x.a,{style:{color:"black"},type:"button",onClick:function(){return e.updateScores()},children:"update scores"})]})})});var a=this.state.hometeam;return Object(u.jsx)("div",{children:Object(u.jsx)(g.a,{onSubmit:function(){return e.handleSubmit()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsxs)("tbody",{children:[t.map((function(t,a){return t.isbonus?Object(u.jsxs)("tr",{className:"bonusLineFour",children:[Object(u.jsxs)("td",{children:[Object(u.jsx)(x.a,{variant:"outline-secondary",onClick:function(){return e.deleteGame(t.gameID)},children:"\u05de\u05d7\u05d9\u05e7\u05d4"}),Object(u.jsx)(x.a,{variant:"outline-secondary",onClick:function(){return e.unmarkAsBonusGame(t.gameID)},children:"\u05d1\u05d8\u05dc \u05e1\u05d9\u05de\u05d5\u05df \u05db\u05d1\u05d5\u05e0\u05d5\u05e1"})]}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a):Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)(x.a,{variant:"outline-secondary",onClick:function(){return e.deleteGame(t.gameID)},children:"\u05de\u05d7\u05d9\u05e7\u05d4"}),Object(u.jsx)(x.a,{variant:"outline-secondary",onClick:function(){return e.markAsBonusGame(t.gameID)},children:"\u05e1\u05de\u05df \u05db\u05d1\u05d5\u05e0\u05d5\u05e1"})]}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)})),a.map((function(t,a){return Object(u.jsxs)("tr",{className:"Hebrew",children:[Object(u.jsxs)("td",{children:[" ",Object(u.jsx)(x.a,{style:{color:"black"},type:"button",onClick:function(){return e.setState({gamesToAdd:e.state.gamesToAdd+1,hometeam:e.state.hometeam.concat([""]),awayteam:e.state.awayteam.concat([""])})},children:"+ "})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)(g.a.Group,{children:Object(u.jsx)(g.a.Control,{type:"text",placeholder:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5",onChange:function(t){e.handleGamesInput(t,a,2)},value:e.state.awayteam[a]})})}),Object(u.jsx)("td",{children:Object(u.jsx)(g.a.Group,{children:Object(u.jsx)(g.a.Control,{type:"text",placeholder:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea",onChange:function(t){e.handleGamesInput(t,a,1)},value:e.state.hometeam[a]})})}),Object(u.jsx)("td",{children:"*"})]},a)}))]}),Object(u.jsx)(x.a,{style:{color:"black"},type:"button",onClick:function(){return e.addGames()},children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e9\u05d7\u05e7\u05d9\u05dd"})]})})})}}]),a}(s.a.Component),f=a(23),v=a(11),D=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).onLeagueNameChange=function(e){c.setState({newLeagueName:e.target.value})},c.changeLeagueName=function(){console.log("activate changeLeagueName",c.state),""!==c.state.newLeagueName&&c.state.newLeagueName!==c.state.currentLeagueName&&fetch("https://toto-server.herokuapp.com/changeleaguename",{method:"post",dataType:"json",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueID:c.props.data.leagueID,newLeagueName:c.state.newLeagueName})}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("change league name",t),c.setState({changeLeagueName:!1,currentLeagueName:c.state.newLeagueName}),c.props.onDataChange()})).catch((function(e){return console.log("AdminPage",e)}))},c.handleChange=function(e){c.setState({currentCycle:e.target.value})},c.updateCurrentCycle=function(){console.log("activate updateCurrentCycle",c.state),c.state.currentCycle!==c.props.data.current_cycle&&fetch("https://toto-server.herokuapp.com/updatecurrentcycle",{method:"post",dataType:"json",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueID:c.props.data.leagueID,newCurrentCycle:c.state.currentCycle})}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("change current league",t),c.props.onDataChange()})).catch((function(e){return console.log("AdminPage",e)}))},c.state={changeLeagueName:!1,currentLeagueName:c.props.data.leagueName,newLeagueName:"",currentCycle:c.props.data.current_cycle},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=Object(u.jsx)(v.a,{children:Object(u.jsxs)(g.a.Label,{className:"Hebrew",children:["\u05e9\u05dd \u05d4\u05dc\u05d9\u05d2\u05d4:      ",this.state.currentLeagueName," "]})});this.state.changeLeagueName&&(t=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v.a,{children:Object(u.jsx)(x.a,{onClick:function(){return e.changeLeagueName()},children:" \u05e2\u05d3\u05db\u05df "})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a.Control,{className:"Hebrew",placeholder:this.state.currentLeagueName,onChange:function(t){return e.onLeagueNameChange(t)}})})]}));var a=this.props.data.cyclesIDs;return a.sort((function(e,t){return e-t})),Object(u.jsx)("div",{children:Object(u.jsxs)(g.a,{children:[Object(u.jsxs)(g.a.Group,{children:[Object(u.jsx)(g.a.Label,{children:"\u05e4\u05e8\u05d8\u05d9\u05dd \u05db\u05dc\u05dc\u05d9\u05dd"}),Object(u.jsxs)(f.a,{children:[Object(u.jsx)(v.a,{children:Object(u.jsx)(x.a,{onClick:function(){return e.setState({changeLeagueName:!0})},size:"sm",children:" \u05e9\u05e0\u05d4 \u05e9\u05dd \u05dc\u05d9\u05d2\u05d4"})}),Object(u.jsx)(v.a,{children:Object(u.jsxs)(g.a.Label,{className:"Hebrew",children:["\u05de\u05e1\u05e4\u05e8 \u05d4\u05dc\u05d9\u05d2\u05d4:   ",this.props.data.leagueID," "]})}),t]}),Object(u.jsx)("p",{})]}),Object(u.jsxs)(g.a.Group,{children:[Object(u.jsxs)(f.a,{children:[Object(u.jsx)(v.a,{children:Object(u.jsx)(x.a,{onClick:function(){return e.updateCurrentCycle()},size:"sm",children:"\u05e2\u05d3\u05db\u05df"})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a.Control,{as:"select",size:"sm",value:this.state.currentCycle,onChange:function(t){return e.handleChange(t)},children:a.map((function(e,t){return Object(u.jsx)("option",{value:e,children:t+1},t)}))})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a.Label,{children:"\u05e2\u05d3\u05db\u05d5\u05df \u05de\u05d7\u05d6\u05d5\u05e8 \u05dc\u05d4\u05e6\u05d2\u05d4 \u05d1\u05d8\u05d1\u05dc\u05ea \u05d4\u05dc\u05d9\u05d2\u05d4  "})})]}),Object(u.jsx)("p",{})]}),Object(u.jsx)(g.a.Group,{children:Object(u.jsxs)(f.a,{children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)(g.a.Label,{children:"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05e9\u05ea\u05ea\u05e4\u05d9\u05dd"}),Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"adminPageNamesTable",children:[Object(u.jsx)("th",{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),Object(u.jsx)("th",{children:"\u05e9\u05dd"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:this.props.data.names_array.map((function(e,t){return Object(u.jsxs)("tr",{className:"adminPageNamesTable",children:[Object(u.jsx)("td",{children:"\u05e4\u05e2\u05d9\u05dc"}),Object(u.jsx)("td",{children:e}),Object(u.jsx)("td",{children:t+1})]},t)}))})]})]}),Object(u.jsxs)(v.a,{children:[Object(u.jsx)(g.a.Label,{children:"\u05e8\u05e9\u05d9\u05de\u05ea \u05de\u05d7\u05d6\u05d5\u05e8\u05d9\u05dd"}),Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"adminPageCycleTable",children:[Object(u.jsx)("th",{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:this.props.data.cyclesIDs.map((function(e,t){return Object(u.jsxs)("tr",{className:"adminPageCycleTable",children:[Object(u.jsx)("td",{children:"\u05e4\u05e2\u05d9\u05dc"}),Object(u.jsx)("td",{children:t+1})]},t)}))})]})]})]})})]})})}}]),a}(s.a.Component);function C(e){return fetch("https://toto-server.herokuapp.com/verifybets/".concat(e),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;return console.log("verify bets before lock cycle",t),t})).catch((function(e){return console.log("AdminPage",e)}))}var I=a(46),N=a(28);function w(e){var t=Object(c.useState)(e.pop),a=Object(I.a)(t,2),s=a[0];a[1];return Object(u.jsx)(f.a,{children:Object(u.jsx)(v.a,{xs:6,children:Object(u.jsxs)(N.a,{onClose:function(){e.onClose()},show:s,children:[Object(u.jsx)(N.a.Header,{}),Object(u.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(u.jsx)(N.a.Body,{children:e.message})]})})})}var S=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).fullLeagueData=function(){fetch("https://toto-server.herokuapp.com/leagueadmin/".concat(c.props.leagueID),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e,a=t.cyclesDB.find((function(e){return e.cycleid===parseInt(t.current_cycle_id)}));c.setState({leagueID:t.leagueid,leagueName:t.leaguename,cyclesIDs:t.cycles_ids,membersIDs:t.members_ids,membersNames:t.members_names,membersScores:t.members_scores_league,currentCycle:t.current_cycle_id,showCycle:t.current_cycle_id,cyclesDB:t.cyclesDB,showCycleData:a,gamesDB:t.gamesDB}),console.log("league data in admin page",t,c.state)})).catch((function(e){return console.log("AdminPage",e)}))},c.getGamesDB=function(){fetch("https://toto-server.herokuapp.com/gamesDB/".concat(c.state.showCycle),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c.setState({gamesDB:e}),console.log("gamesDB in admin page",e)})).catch((function(e){return console.log("AdminPage",e)}))},c.switchTab=function(e){var t,a,s;switch(e){case"LeagueData":t=Object(u.jsx)(D,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"addCycle":s=c.props.leagueID,fetch("https://toto-server.herokuapp.com/addcycle/".concat(s),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("add cycle",t)})).catch((function(e){return console.log("AdminPage",e)})),c.setState({toast:Object(u.jsx)(w,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05e0\u05d5\u05e1\u05e3 \u05de\u05d7\u05d6\u05d5\u05e8 \u05d7\u05d3\u05e9 \u05dc\u05dc\u05d9\u05d2\u05d4!"}),leagueID:0}),t=Object(u.jsx)(D,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"close":a=c.state.showCycle,fetch("https://toto-server.herokuapp.com/closecycle/".concat(a),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("close cycle",t)})).catch((function(e){return console.log("AdminPage",e)})),c.setState({toast:Object(u.jsx)(w,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e1\u05d2\u05d5\u05e8 - \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e2\u05d3\u05db\u05df \u05d9\u05d5\u05ea\u05e8 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea"}),leagueID:0}),t=Object(u.jsx)(D,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"lock":C?(!function(e){fetch("https://toto-server.herokuapp.com/lockcycle/".concat(e),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("lock cycle",t)})).catch((function(e){return console.log("AdminPage",e)}))}(c.state.showCycle),c.setState({toast:Object(u.jsx)(w,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05e2\u05d5\u05dc - \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05de\u05e8"}),leagueID:0}),t=Object(u.jsx)(D,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}})):(c.setState({toast:Object(u.jsx)(w,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05e7\u05d9\u05d9\u05de\u05d9\u05dd \u05e9\u05d7\u05e7\u05e0\u05d9\u05dd \u05e9\u05d8\u05e8\u05dd \u05e9\u05dc\u05d7\u05d5 \u05d4\u05d9\u05de\u05d5\u05e8 - \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e0\u05e2\u05d5\u05dc \u05d0\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8"}),leagueID:0}),t=Object(u.jsx)(y,{data:c.state,cycleID:c.state.showCycle,onSelect:function(e){c.switchTab(e)}}));break;case"unlock":c.setState({toast:Object(u.jsx)(w,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05e0\u05e2\u05d9\u05dc\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05d1\u05d5\u05d8\u05dc\u05d4"}),leagueID:0}),function(e){var t="https://toto-server.herokuapp.com/unlockcycle/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response unlockcycle",e),e.json()})).then((function(e){console.log("response unlockcycle",e)})).catch((function(e){return console.log("unlockcycle",e)}))}(c.state.showCycle),t=Object(u.jsx)(D,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"unclose":!function(e){var t="https://toto-server.herokuapp.com/unclosecycle/".concat(e);fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){console.log("response unclosecycle",e),e.json()})).then((function(e){console.log("response unclosecycle",e)})).catch((function(e){return console.log("unclosecycle",e)}))}(c.state.showCycle),c.setState({toast:Object(u.jsx)(w,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e0\u05e4\u05ea\u05d7 \u05dc\u05e2\u05d3\u05db\u05d5\u05df \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05de\u05e9\u05d7\u05e7\u05d9\u05dd"}),leagueID:0}),t=Object(u.jsx)(D,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;case"scoreUpdate":c.setState({toast:Object(u.jsx)(w,{pop:!0,onClose:function(){c.setState({toast:0})},message:"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d4\u05de\u05d7\u05d6\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05e0\u05d5"}),leagueID:0}),t=Object(u.jsx)(D,{data:c.state,onDataChange:function(){return c.setState({leagueID:0})}});break;default:c.setState({showCycle:e}),t=Object(u.jsx)(y,{cycleData:c.state.showCycleData,gamesDB:c.state.gamesDB,onSelect:function(e){c.switchTab(e)}})}c.setState({table:t})},c.state={leagueID:0,leagueName:"",cyclesIDs:[],membersIDs:[],membersNames:[],membersScores:[],currentCycle:0,cyclesDB:0,showCycle:0,showCycleData:{cycleid:0},gamesDB:[],table:0,toast:Object(u.jsx)("p",{})},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return 0!==this.props.leagueID&&0===this.state.leagueID&&this.fullLeagueData(),0!==this.state.leagueID&&this.state.gamesDB!==[]&&this.state.showCycle!==this.state.gamesDB[0].cycleid&&this.getGamesDB(),0!==this.state.leagueID&&0===this.state.table&&this.switchTab(this.state.showCycle),Object(u.jsxs)("div",{children:[this.state.toast,Object(u.jsx)(O,{onSelect:function(t){e.switchTab(t)},cycles:this.state.cyclesIDs,cycleID:this.state.showCycle,cycleData:this.state.showCycleData}),this.state.table]})}}]),a}(s.a.Component),k=a(37),L=a(55),T=a(54),B=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).cycleData=function(){var e=c.props.membersIDs.indexOf(c.props.userID);fetch("https://toto-server.herokuapp.com/home/cycle/".concat(c.props.cycleID),{method:"get",dataType:"json"}).then((function(e){return e.json()})).then((function(t){var a=t;c.setState({cycleID:a.cycleid,gamesIDs:a.games_ids,cycleOrderInLeague:a.order_in_league,isLocked:a.lock_for_bets,membersScores:a.members_scores_cycle,gamesDB:a.gamesDB,userIndex:e}),console.log("state cycle",c.state)})).catch((function(e){return console.log(e)}))},c.setTable=function(){var e=[{gameid:1,hometeam:"await",awayteam:"await",score:"await",userBet:"await",cycleid:parseInt(c.props.cycleID),bets:[0]}];Array.isArray(c.state.gamesDB)&&c.state.gamesDB.length>0&&(e=c.state.gamesDB.map((function(e){var t="\u05d8\u05e8\u05dd \u05e0\u05e7\u05d1\u05e2";c.state.isLocked&&e.score>0&&(t=3===e.score?"x":e.score);var a=e.members_bets[c.state.userIndex];c.state.isLocked&&3===a&&(a="x");var s="";return e.is_bonus&&(s="\u05d1\u05d5\u05e0\u05d5\u05e1! "),{hometeam:e.home_team,awayteam:e.away_team,score:t,userBet:a,cycleid:e.cycleid,gameID:e.gameid,bonus:s,isbonus:e.is_bonus,bets:e.members_bets}}))),c.setState({table:e}),console.log("new table",c.state.table)},c.handleChange=function(e,t){var a=c.state.table;a[t].userBet=e.target.value,c.setState({table:a})},c.checkBets=function(e){for(var t=!0,a=0;a<e.length;a++)e[a].userBet>=1&&e[a].userBet<=3||"x"===e[a].userBet||(t=!1);c.props.showBetUpdatingToast(t),c.setState({cycleID:0})},c.handleSubmit=function(){if(c.state.table[0].cycleid===c.state.cycleID&&Array.isArray(c.state.gamesDB)&&c.state.gamesDB.length>0)return console.log("gamesTable",c.state.table,c.state.userIndex),fetch("https://toto-server.herokuapp.com/updatebets",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIndex:c.state.userIndex,gamesTable:c.state.table})}).then((function(e){return console.log("updatebets res",e),e.json()})).then((function(e){return console.log("updatebets",e),c.checkBets(c.state.table)})).catch((function(e){return console.log("updatebets",e)}))},c.state={cycleID:0,gamesIDs:[],cycleOrderInLeague:0,isLocked:!0,membersScores:[],gamesDB:[],table:[{gameid:1,hometeam:"await",awayteam:"await",score:"await",cycleid:0,userBet:0,bets:[0]}],userIndex:0},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;parseInt(this.state.cycleID)!==parseInt(this.props.cycleID)&&this.cycleData();var t=this.state.table;return t[0].cycleid!==this.state.cycleID&&0!==this.state.cycleID&&this.setTable(),this.state.isLocked||"await"===t[0].hometeam?Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"tr5column",children:[Object(u.jsx)("th",{children:"\u05ea\u05d5\u05e6\u05d0\u05d4"}),Object(u.jsx)("th",{children:"\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e9\u05dc\u05da"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:t.map((function(t,a){return t.isbonus?Object(u.jsxs)("tr",{className:"bonusLine",children:[Object(u.jsx)("td",{children:Object(u.jsx)(L.a,{className:"OverlayTrigger",placement:"right",overlay:Object(u.jsx)(T.a,{id:"tooltip-right",style:{width:"150%"},children:Object(u.jsxs)(m.a,{className:"tooltipTable",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:":\u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd"})]})}),Object(u.jsx)("tbody",{children:t.bets.map((function(t,a){var c=t;return 3===t&&(c="x"),Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("td",{className:"tooltipTableText",children:c}),Object(u.jsx)("td",{className:"tooltipTableText",children:e.props.membersNames[a]})]},a)}))})]})}),children:Object(u.jsx)(x.a,{className:"invisibleButton",children:t.score})})}),Object(u.jsx)("td",{children:t.userBet}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{className:"hebrew",children:"\u05d1\u05d5\u05e0\u05d5\u05e1"})]},a):Object(u.jsxs)("tr",{className:"tr5column",children:[Object(u.jsx)("td",{children:Object(u.jsx)(L.a,{className:"OverlayTrigger",placement:"right",overlay:Object(u.jsx)(T.a,{id:"tooltip-right",style:{width:"150%"},children:Object(u.jsxs)(m.a,{className:"tooltipTable",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:":\u05d4\u05d9\u05de\u05d5\u05e8\u05d9\u05dd"})]})}),Object(u.jsx)("tbody",{children:t.bets.map((function(t,a){var c=t;return 3===t&&(c="x"),Object(u.jsxs)("tr",{className:"tooltipTableLine",children:[Object(u.jsx)("td",{className:"tooltipTableText",children:c}),Object(u.jsx)("td",{className:"tooltipTableText",children:e.props.membersNames[a]})]},a)}))})]})}),children:Object(u.jsx)(x.a,{className:"invisibleButton",children:t.score})})}),Object(u.jsx)("td",{children:t.userBet}),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)}))})]})}):Object(u.jsx)("div",{children:Object(u.jsx)(g.a,{onSubmit:function(t){t.preventDefault(),e.handleSubmit()},children:Object(u.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\u05d4\u05d9\u05de\u05d5\u05e8"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d7\u05d5\u05e5"}),Object(u.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05ea \u05d1\u05d9\u05ea"}),Object(u.jsx)("th",{children:"#"})]})}),Object(u.jsx)("tbody",{children:t.map((function(t,a){var c,s;return t.isbonus?Object(u.jsxs)("tr",{className:"bonusLineFour",children:[Object(u.jsx)("td",(c={className:"hebrew"},Object(k.a)(c,"className","bet"),Object(k.a)(c,"children",Object(u.jsx)(g.a.Group,{className:"bet",children:Object(u.jsxs)(g.a.Control,{className:"bet",as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.userBet,children:[Object(u.jsx)("option",{value:"0",className:"hebrew",children:"\u05de\u05de\u05ea\u05d9\u05df"}),Object(u.jsx)("option",{value:"1",className:"hebrew",children:"1"}),Object(u.jsx)("option",{value:"2",className:"hebrew",children:"2"}),Object(u.jsx)("option",{value:"3",className:"hebrew",children:"x"})]},a)})),c)),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{className:"hebrew",children:"\u05d1\u05d5\u05e0\u05d5\u05e1"})]},a):Object(u.jsxs)("tr",{className:"hebrew",children:[Object(u.jsx)("td",(s={className:"hebrew"},Object(k.a)(s,"className","bet"),Object(k.a)(s,"children",Object(u.jsx)(g.a.Group,{className:"bet",children:Object(u.jsxs)(g.a.Control,{className:"bet",as:"select",size:"sm",onChange:function(t){return e.handleChange(t,a)},value:t.userBet,children:[Object(u.jsx)("option",{value:"0",className:"hebrew",children:"\u05de\u05de\u05ea\u05d9\u05df"}),Object(u.jsx)("option",{value:"1",className:"hebrew",children:"1"}),Object(u.jsx)("option",{value:"2",className:"hebrew",children:"2"}),Object(u.jsx)("option",{value:"3",className:"hebrew",children:"x"})]},a)})),s)),Object(u.jsx)("td",{children:t.awayteam}),Object(u.jsx)("td",{children:t.hometeam}),Object(u.jsx)("td",{children:a+1})]},a)}))}),Object(u.jsx)(x.a,{size:"lg",style:{color:"black"},type:"submit",children:"\u05e9\u05de\u05d5\u05e8 \u05d4\u05d9\u05de\u05d5\u05e8"})]})})})}}]),a}(s.a.Component);function _(e){return Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"feed"})})}function A(e){return Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"profle"})})}function G(e){var t=Object(c.useState)(e.show),a=Object(I.a)(t,2),s=a[0],n=a[1],r="\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4";return e.complete||(r="\u05d4\u05d4\u05d9\u05de\u05d5\u05e8 \u05e2\u05d5\u05d3\u05db\u05df! \u05e9\u05d9\u05dd \u05dc\u05d1, \u05e7\u05d9\u05d9\u05de\u05d9\u05dd \u05de\u05e9\u05d7\u05e7\u05d9\u05dd \u05e9\u05dc\u05d0 \u05d4\u05d9\u05de\u05e8\u05ea \u05e2\u05dc\u05d9\u05d4\u05dd"),Object(u.jsx)(f.a,{children:Object(u.jsx)(v.a,{xs:6,children:Object(u.jsx)(N.a,{onClose:function(){n(!1),e.hide()},show:s,delay:5e3,autohide:!0,children:Object(u.jsxs)(N.a.Header,{children:[Object(u.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),Object(u.jsx)("strong",{children:r})]})})})})}var P=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).getUserData=function(){fetch("https://toto-server.herokuapp.com/home/user/".concat(c.props.userID),{method:"get",dataType:"json",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;c.setState({userID:t.userid,userName:t.username,isAdmin:t.is_admin,image:t.image,currentLeagueID:t.leagueData.leagueid,leagueName:t.leagueData.leaguename,membersIDs:t.leagueData.members_ids,membersNames:t.leagueData.members_names,cyclesIDs:t.leagueData.cycles_ids,membersScores:t.leagueData.members_scores_league,currentCycle:t.leagueData.current_cycle_id,showCycle:t.leagueData.current_cycle_id}),console.log("home data",t,c.state)})).catch((function(e){return console.log("home",e)}))},c.switchTab=function(e){var t;switch(console.log("switchTab",e),e){case"profile":t=Object(u.jsx)(A,{});break;case"league":t=Object(u.jsx)(p,{userName:c.state.userName,image:c.state.image,leagueName:c.state.leagueName,membersNames:c.state.membersNames,membersScores:c.state.membersScores,currentCycle:c.state.currentCycle});break;case"feed":t=Object(u.jsx)(_,{});break;default:c.setState({showCycle:e}),t=Object(u.jsx)(B,{cycleID:c.state.showCycle,membersNames:c.state.membersNames,membersIDs:c.state.membersIDs,userID:c.state.userID,showBetUpdatingToast:function(e){return c.setState({toast:Object(u.jsx)(G,{show:!0,complete:e,hide:function(){c.setState({toast:Object(u.jsx)("p",{})})}})})}})}c.setState({navBar:t})},c.state={navBar:"\u05d8\u05d5\u05e2\u05df \u05d8\u05d1\u05dc\u05d4...",userID:0,userName:"",isAdmin:0,image:"",currentLeagueID:0,leagueName:"",membersIDs:[],membersNames:[],cyclesIDs:[],membersScores:[],currentCycle:0,showCycle:0,cyclesDB:0,toast:Object(u.jsx)("p",{})},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return 0!==this.props.userID&&0===this.state.userID&&this.getUserData(),this.state.isAdmin?Object(u.jsx)(S,{leagueID:this.state.currentLeagueID}):("\u05d8\u05d5\u05e2\u05df \u05d8\u05d1\u05dc\u05d4..."===this.state.navBar&&0!==this.state.currentCycle&&this.switchTab("league"),Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{onClick:function(){e.props.logOut()},onSelect:function(t){e.switchTab(t)},cycles:this.state.cyclesIDs,currentCycle:this.state.showCycle}),this.state.toast,this.state.image,this.state.navBar]}))}}]),a}(s.a.Component),K=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).onUsernameChange=function(e){c.setState({username:e.target.value})},c.onPasswordChange=function(e){c.setState({password:e.target.value})},c.onSubmitSignin=function(){if(""!==c.state.signinEmail)return fetch("https://toto-server.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c.state.username,password:c.state.password})}).then((function(e){return e.json()})).then((function(e){var t=parseInt(e);console.log("signin",t),c.props.validLogin(t)})).catch((function(e){return console.log("signin",e)}))},c.state={username:"",password:"",badSubmition:!1},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{children:Object(u.jsxs)(g.a,{className:"signinForm",children:[Object(u.jsxs)(g.a.Group,{children:[Object(u.jsx)(g.a.Label,{children:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"}),Object(u.jsx)("p",{}),Object(u.jsx)(g.a.Control,{type:"text",placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",autoComplete:"username",onChange:this.onUsernameChange})]}),Object(u.jsxs)(g.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(g.a.Label,{children:"\u05e1\u05d9\u05e1\u05de\u05d0"}),Object(u.jsx)("p",{}),Object(u.jsx)(g.a.Control,{type:"password",placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0",autoComplete:"current-password",onChange:this.onPasswordChange})]}),Object(u.jsx)(g.a.Group,{children:Object(u.jsx)(x.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),e.onSubmitSignin()},children:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"})})]})})}}]),a}(s.a.Component),F=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).state={userID:0},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return 0!==this.state.userID?Object(u.jsx)(P,{userID:this.state.userID,logOut:function(){e.setState({userID:0})}}):Object(u.jsx)(K,{validLogin:function(t){e.setState({userID:t})}})}}]),a}(s.a.Component),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};r.a.render(Object(u.jsx)(F,{}),document.getElementById("root")),z()}},[[67,1,2]]]);
//# sourceMappingURL=main.37c38668.chunk.js.map